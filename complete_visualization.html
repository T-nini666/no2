<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>第2章 - 完整数据可视化图表展示</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Microsoft YaHei', Arial, sans-serif;
            background: #FFF8E1;
            margin: 0;
            padding: 0;
            min-height: 100vh;
            width: 100%;
        }

        .container {
            width: 100%;
            height: 100vh;
            background: #FFF8E1;
            overflow: hidden;
            margin: 0;
            border: none;
            border-radius: 0;
            box-shadow: none;
        }

        .header {
            background: linear-gradient(135deg, #8B7355, #A68A64);
            color: white;
            padding: 40px 20px;
            text-align: center;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }

        .header p {
            font-size: 1.2em;
            opacity: 0.9;
        }

        .nav-tabs {
            display: flex;
            background: #D7CCC8;
            overflow-x: auto;
            scrollbar-width: none;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        .nav-tabs::-webkit-scrollbar {
            display: none;
        }

        .tab-btn {
            flex: 1;
            min-width: 120px;
            padding: 20px;
            background: #D7CCC8;
            border: none;
            color: #5D4037;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 16px;
            font-weight: bold;
            border-right: 1px solid #BCAAA4;
        }

        .tab-btn:hover {
            background: #BCAAA4;
            transform: translateY(-2px);
        }

        .tab-btn.active {
            background: #8D6E63;
            color: white;
            box-shadow: inset 0 -4px 0 #6D4C41;
        }

        .content-area {
            display: flex;
            height: calc(100vh - 200px);
        }

        .chart-container {
            flex: 1;
            padding: 20px;
            background: #FFF8E1;
            height: 100%;
            display: flex;
            flex-direction: column;
            min-width: 0;
        }

        .chart-wrapper {
            background: white;
            border-radius: 10px;
            padding: 15px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            flex: 1;
            border: 2px solid #D7CCC8;
            min-height: 0;
        }

        .data-editor {
            flex: 1;
            padding: 20px;
            background: #F5F5F5;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            height: 100%;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            min-width: 0;
        }

        .chart-with-editor {
            display: flex;
            width: 100%;
            height: 100%;
            gap: 20px;
        }

        .chart-side {
            flex: 2;
            display: flex;
            flex-direction: column;
            min-width: 0;
        }

        .editor-side {
            flex: 1;
            display: flex;
            flex-direction: column;
            min-width: 0;
            min-width: 400px;
        }

        .editor-title {
            font-size: 1.5em;
            color: #5D4037;
            margin-bottom: 15px;
            text-align: center;
            font-weight: bold;
        }

        .data-form {
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            margin-bottom: 20px;
            border: 2px solid #D7CCC8;
        }

        .form-group {
            margin-bottom: 15px;
            padding: 10px;
            background: #F9F9F9;
            border-radius: 8px;
            border-left: 4px solid #8D6E63;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            color: #5D4037;
            font-size: 14px;
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 10px;
            border: 2px solid #D7CCC8;
            border-radius: 6px;
            font-size: 14px;
            transition: border-color 0.3s;
            resize: vertical;
            min-height: 40px;
        }

        .form-group textarea {
            min-height: 80px;
            font-family: monospace;
        }

        .input-hint {
            font-size: 12px;
            color: #795548;
            margin-top: 5px;
            font-style: italic;
        }

        .color-picker {
            display: flex;
            align-items: center;
            gap: 10px;
            margin: 5px 0;
        }

        .color-picker span {
            min-width: 80px;
            font-size: 13px;
            color: #5D4037;
        }

        .color-picker input[type="color"] {
            width: 40px;
            height: 30px;
            border: 2px solid #D7CCC8;
            border-radius: 4px;
            cursor: pointer;
        }

        .editor-controls {
            display: flex;
            gap: 10px;
            margin-top: 20px;
            flex-wrap: wrap;
        }

        .update-btn, .reset-btn {
            flex: 1;
            min-width: 120px;
            padding: 12px 20px;
            border: none;
            border-radius: 6px;
            font-size: 14px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .update-btn {
            background: #8D6E63;
            color: white;
        }

        .update-btn:hover {
            background: #6D4C41;
            transform: translateY(-2px);
        }

        .reset-btn {
            background: #BDBDBD;
            color: #424242;
        }

        .reset-btn:hover {
            background: #9E9E9E;
            transform: translateY(-2px);
        }

        /* 数据验证样式 */
        .form-group.error input,
        .form-group.error textarea {
            border-color: #F44336;
            background-color: #FFEBEE;
        }

        .form-group.success input,
        .form-group.success textarea {
            border-color: #4CAF50;
            background-color: #E8F5E8;
        }

        .validation-message {
            font-size: 12px;
            margin-top: 5px;
            padding: 3px 8px;
            border-radius: 3px;
        }

        .validation-message.error {
            color: #D32F2F;
            background-color: #FFEBEE;
        }

        .validation-message.success {
            color: #388E3C;
            background-color: #E8F5E8;
        }

        .form-group input:focus,
        .form-group select:focus {
            outline: none;
            border-color: #8D6E63;
            box-shadow: 0 0 5px rgba(141, 110, 99, 0.3);
        }

        .form-group .input-hint {
            font-size: 12px;
            color: #795548;
            margin-top: 5px;
            font-style: italic;
        }

        .color-picker {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-top: 5px;
        }

        .color-picker input[type="color"] {
            width: 40px;
            height: 30px;
            border: 2px solid #D7CCC8;
            border-radius: 4px;
            cursor: pointer;
        }

        .color-picker span {
            font-size: 12px;
            color: #795548;
        }

        .update-btn {
            width: 100%;
            padding: 12px;
            background: linear-gradient(135deg, #8D6E63, #A1887F);
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
            transition: all 0.3s;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        .update-btn:hover {
            background: linear-gradient(135deg, #6D4C41, #8D6E63);
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.3);
        }

        .update-btn:active {
            transform: translateY(0);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        }

        .editor-controls {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }

        .reset-btn {
            flex: 1;
            padding: 10px;
            background: #BDBDBD;
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            transition: background 0.3s;
        }

        .reset-btn:hover {
            background: #9E9E9E;
        }

        .chart-title {
            font-size: 1.8em;
            color: #5D4037;
            margin-bottom: 15px;
            text-align: center;
            font-weight: bold;
        }

        .chart-wrapper {
            background: white;
            border-radius: 10px;
            padding: 15px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            height: calc(100% - 80px);
            border: 2px solid #D7CCC8;
        }

        .tab-content {
            display: none;
            animation: fadeIn 0.5s ease-in;
        }

        .tab-content.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @media (max-width: 768px) {
            .content-area {
                flex-direction: column;
            }
            
            .nav-tabs {
                flex-wrap: wrap;
            }
            
            .tab-btn {
                min-width: 100px;
                font-size: 14px;
                padding: 12px 15px;
            }
        }
    </style>
    <script src="https://cdn.jsdelivr.net/npm/echarts@5.4.3/dist/echarts.min.js"></script>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>📊 第2章 - 完整数据可视化图表展示</h1>
            <p>基于Matplotlib的10种图表类型完整实现</p>
        </div>

        <div class="nav-tabs">
            <button class="tab-btn active" onclick="showTab('line')">2.1 折线图</button>
            <button class="tab-btn" onclick="showTab('bar')">2.2 柱形图</button>
            <button class="tab-btn" onclick="showTab('barh')">2.3 条形图</button>
            <button class="tab-btn" onclick="showTab('area')">2.4 面积图</button>
            <button class="tab-btn" onclick="showTab('histogram')">2.5 直方图</button>
            <button class="tab-btn" onclick="showTab('pie')">2.6 饼图</button>
            <button class="tab-btn" onclick="showTab('scatter')">2.7 散点图</button>
            <button class="tab-btn" onclick="showTab('box')">2.8 箱形图</button>
            <button class="tab-btn" onclick="showTab('radar')">2.9 雷达图</button>
            <button class="tab-btn" onclick="showTab('errorbar')">2.10 误差棒图</button>
        </div>

        <div class="content-area">
            <!-- 2.1 折线图 -->
            <div id="line" class="tab-content active">
                <div class="chart-with-editor">
                    <div class="chart-side">
                        <div class="chart-container">
                            <h2 class="chart-title">📈 2.1 折线图 - 未来15天温度趋势</h2>
                            <div class="chart-wrapper" id="lineChart"></div>
                        </div>
                    </div>
                    <div class="editor-side">
                        <div class="data-editor">
                            <h3 class="editor-title">📝 数据编辑</h3>
                            <div class="data-form">
                                <div class="form-group">
                                    <label>最高气温数据:</label>
                                    <input type="text" id="lineHighData" value="32,33,34,34,33,31,30,29,30,29,26,23,21,25,31">
                                    <div class="input-hint">用逗号分隔的15个温度值</div>
                                </div>
                                <div class="form-group">
                                    <label>最低气温数据:</label>
                                    <input type="text" id="lineLowData" value="19,19,20,22,22,21,22,16,18,18,17,14,15,16,16">
                                    <div class="input-hint">用逗号分隔的15个温度值</div>
                                </div>
                                <div class="form-group">
                                    <label>配色调整:</label>
                                    <div class="color-picker">
                                        <span>最高气温颜色:</span>
                                        <input type="color" id="lineHighColor" value="#FF6B6B">
                                        <span>最低气温颜色:</span>
                                        <input type="color" id="lineLowColor" value="#4ECDC4">
                                    </div>
                                </div>
                                <div class="editor-controls">
                                    <button class="update-btn" onclick="updateLineChart()">更新图表</button>
                                    <button class="reset-btn" onclick="resetLineChart()">重置数据</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 2.2 柱形图 -->
            <div id="bar" class="tab-content">
                <div class="chart-with-editor">
                    <div class="chart-side">
                        <div class="chart-container">
                            <h2 class="chart-title">📊 2.2 柱形图 - 阿里巴巴GMV数据</h2>
                            <div class="chart-wrapper" id="barChart"></div>
                        </div>
                    </div>
                    <div class="editor-side">
                        <div class="data-editor">
                            <h3 class="editor-title">📝 数据编辑</h3>
                            <div class="data-form">
                                <div class="form-group">
                                    <label>GMV数据 (亿元):</label>
                                    <input type="text" id="barData" value="10770,16780,24440,30920,37670,48200,57270">
                                </div>
                                <div class="form-group">
                                    <label>年份标签:</label>
                                    <input type="text" id="barLabels" value="FY2013,FY2014,FY2015,FY2016,FY2017,FY2018,FY2019">
                                    <div class="input-hint">用逗号分隔的年份标签</div>
                                </div>
                                <div class="form-group">
                                    <label>配色调整:</label>
                                    <div class="color-picker">
                                        <span>柱形颜色:</span>
                                        <input type="color" id="barColor" value="#8D6E63">
                                    </div>
                                </div>
                                <div class="editor-controls">
                                    <button class="update-btn" onclick="updateBarChart()">更新图表</button>
                                    <button class="reset-btn" onclick="resetBarChart()">重置数据</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 2.3 条形图 -->
            <div id="barh" class="tab-content">
                <div class="chart-with-editor">
                    <div class="chart-side">
                        <div class="chart-container">
                            <h2 class="chart-title">📋 2.3 条形图 - 网购替代率</h2>
                            <div class="chart-wrapper" id="barhChart"></div>
                        </div>
                    </div>
                    <div class="editor-side">
                        <div class="data-editor">
                            <h3 class="editor-title">📝 数据编辑</h3>
                            <div class="data-form">
                                <div class="form-group">
                                    <label>替代率数据:</label>
                                    <input type="text" id="barhData" value="0.959,0.951,0.935,0.924,0.893,0.892,0.865,0.863,0.860,0.856,0.854,0.835,0.826,0.816,0.798,0.765,0.763,0.67">
                                </div>
                                <div class="form-group">
                                    <label>商品种类:</label>
                                    <input type="text" id="barhLabels" value="家政服务,飞机票,家具,手机,计算机,汽车用品,通信充值,个人护理,书报杂志,餐饮旅游,家用电器,食品饮料,家庭日杂,保险票务,服装鞋帽,数码产品,其他商品,工艺品">
                                    <div class="input-hint">用逗号分隔的商品种类</div>
                                </div>
                                <div class="form-group">
                                    <label>配色调整:</label>
                                    <div class="color-picker">
                                        <span>条形颜色:</span>
                                        <input type="color" id="barhColor" value="#A1887F">
                                    </div>
                                </div>
                                <div class="editor-controls">
                                    <button class="update-btn" onclick="updateBarhChart()">更新图表</button>
                                    <button class="reset-btn" onclick="resetBarhChart()">重置数据</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 2.4 面积图 -->
            <div id="area" class="tab-content">
                <div class="chart-with-editor">
                    <div class="chart-side">
                        <div class="chart-container">
                            <h2 class="chart-title">📈 2.4 面积图 - 物流费用统计</h2>
                            <div class="chart-wrapper" id="areaChart"></div>
                        </div>
                    </div>
                    <div class="editor-side">
                        <div class="data-editor">
                            <h3 class="editor-title">📝 数据编辑</h3>
                            <div class="data-form">
                                <div class="form-group">
                                    <label>公司A数据:</label>
                                    <input type="text" id="areaDataA" value="198,215,245,222,200,236,201,253,236,200,266,290">
                                </div>
                                <div class="form-group">
                                    <label>公司B数据:</label>
                                    <input type="text" id="areaDataB" value="203,236,200,236,269,216,298,333,301,349,360,368">
                                </div>
                                <div class="form-group">
                                    <label>公司C数据:</label>
                                    <input type="text" id="areaDataC" value="185,205,226,199,238,200,250,209,246,219,253,288">
                                </div>
                                <div class="form-group">
                                    <label>配色调整:</label>
                                    <div class="color-picker">
                                        <span>公司A颜色:</span>
                                        <input type="color" id="areaColorA" value="#FF9800">
                                        <span>公司B颜色:</span>
                                        <input type="color" id="areaColorB" value="#2196F3">
                                        <span>公司C颜色:</span>
                                        <input type="color" id="areaColorC" value="#4CAF50">
                                    </div>
                                </div>
                                <div class="editor-controls">
                                    <button class="update-btn" onclick="updateAreaChart()">更新图表</button>
                                    <button class="reset-btn" onclick="resetAreaChart()">重置数据</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 2.5 直方图 -->
            <div id="histogram" class="tab-content">
                <div class="chart-with-editor">
                    <div class="chart-side">
                        <div class="chart-container">
                            <h2 class="chart-title">📊 2.5 直方图 - 成绩分布</h2>
                            <div class="chart-wrapper" id="histogramChart"></div>
                        </div>
                    </div>
                    <div class="editor-side">
                        <div class="data-editor">
                            <h3 class="editor-title">📝 数据编辑</h3>
                            <div class="data-form">
                                <div class="form-group">
                                    <label>各分数段人数:</label>
                                    <input type="text" id="histogramData" value="4,6,8,7,9,8,5,3">
                                </div>
                                <div class="form-group">
                                    <label>分数段标签:</label>
                                    <input type="text" id="histogramLabels" value="60-65,65-70,70-75,75-80,80-85,85-90,90-95,95-100">
                                </div>
                                <div class="form-group">
                                    <label>配色调整:</label>
                                    <div class="color-picker">
                                        <span>柱形颜色:</span>
                                        <input type="color" id="histogramColor" value="#8D6E63">
                                    </div>
                                </div>
                                <div class="editor-controls">
                                    <button class="update-btn" onclick="updateHistogramChart()">更新图表</button>
                                    <button class="reset-btn" onclick="resetHistogramChart()">重置数据</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 2.6 饼图 -->
            <div id="pie" class="tab-content">
                <div class="chart-with-editor">
                    <div class="chart-side">
                        <div class="chart-container">
                            <h2 class="chart-title">🥧 2.6 饼图 - 支付宝月账单</h2>
                            <div class="chart-wrapper" id="pieChart"></div>
                        </div>
                    </div>
                    <div class="editor-side">
                        <div class="data-editor">
                            <h3 class="editor-title">📝 数据编辑</h3>
                            <div class="data-form">
                                <div class="form-group">
                                    <label>消费金额 (元):</label>
                                    <input type="text" id="pieValues" value="800,100,1000,200,300,200,200,200">
                                </div>
                                <div class="form-group">
                                    <label>消费类别:</label>
                                    <input type="text" id="pieLabels" value="购物,人情往来,餐饮美食,通信物流,生活日用,交通出行,休闲娱乐,其他">
                                </div>
                                <div class="form-group">
                                    <label>配色调整:</label>
                                    <div class="color-picker">
                                        <span>饼图配色方案:</span>
                                        <input type="color" id="pieColor1" value="#FF6B6B">
                                        <input type="color" id="pieColor2" value="#4ECDC4">
                                        <input type="color" id="pieColor3" value="#45B7D1">
                                        <input type="color" id="pieColor4" value="#96CEB4">
                                        <input type="color" id="pieColor5" value="#FECA57">
                                        <input type="color" id="pieColor6" value="#FF9FF3">
                                        <input type="color" id="pieColor7" value="#54A0FF">
                                        <input type="color" id="pieColor8" value="#5F27CD">
                                    </div>
                                </div>
                                <div class="editor-controls">
                                    <button class="update-btn" onclick="updatePieChart()">更新图表</button>
                                    <button class="reset-btn" onclick="resetPieChart()">重置数据</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 2.7 散点图 -->
            <div id="scatter" class="tab-content">
                <div class="chart-with-editor">
                    <div class="chart-side">
                        <div class="chart-container">
                            <h2 class="chart-title">🔵 2.7 散点图 - 速度与制动距离</h2>
                            <div class="chart-wrapper" id="scatterChart"></div>
                        </div>
                    </div>
                    <div class="editor-side">
                        <div class="data-editor">
                            <h3 class="editor-title">📝 数据编辑</h3>
                            <div class="data-form">
                                <div class="form-group">
                                    <label>速度-距离数据对:</label>
                                    <input type="text" id="scatterData" value="10,0.5;20,2.0;30,4.4;40,7.9;50,12.3;60,17.7;70,24.1;80,31.5;90,39.9;100,49.2;110,59.5;120,70.8;130,83.1;140,96.4;150,110.7;160,126.0;170,142.2;180,159.4;190,177.6;200,196.8">
                                    <div class="input-hint">格式：速度,距离;速度,距离;...</div>
                                </div>
                                <div class="form-group">
                                    <label>配色调整:</label>
                                    <div class="color-picker">
                                        <span>散点颜色:</span>
                                        <input type="color" id="scatterColor" value="#FF5722">
                                    </div>
                                </div>
                                <div class="editor-controls">
                                    <button class="update-btn" onclick="updateScatterChart()">更新图表</button>
                                    <button class="reset-btn" onclick="resetScatterChart()">重置数据</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 2.8 箱形图 -->
            <div id="box" class="tab-content">
                <div class="chart-container">
                    <h2 class="chart-title">📦 2.8 箱形图 - 发电量统计</h2>
                    <div class="chart-wrapper" id="boxChart"></div>
                </div>
                <div class="data-editor">
                    <h3 class="editor-title">📝 数据编辑</h3>
                    <div class="data-form">
                        <div class="form-group">
                            <label>2018年数据:</label>
                            <input type="text" id="boxData2018" value="5107.8,5330.2,5543,5550.6,6404.9">
                            <div class="input-hint">格式：最小值,Q1,中位数,Q3,最大值</div>
                        </div>
                        <div class="form-group">
                            <label>2017年数据:</label>
                            <input type="text" id="boxData2017" value="4605.2,5038.1,5196.3,5219.6,6047.4">
                            <div class="input-hint">格式：最小值,Q1,中位数,Q3,最大值</div>
                        </div>
                        <div class="form-group">
                            <label>配色调整:</label>
                            <div class="color-picker">
                                <span>2018年颜色:</span>
                                <input type="color" id="boxColor2018" value="#FF9800">
                                <span>2017年颜色:</span>
                                <input type="color" id="boxColor2017" value="#2196F3">
                            </div>
                        </div>
                        <div class="editor-controls">
                            <button class="update-btn" onclick="updateBoxChart()">更新图表</button>
                            <button class="reset-btn" onclick="resetBoxChart()">重置数据</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 2.9 雷达图 -->
            <div id="radar" class="tab-content">
                <div class="chart-container">
                    <h2 class="chart-title">🎯 2.9 雷达图 - 职业兴趣测试</h2>
                    <div class="chart-wrapper" id="radarChart"></div>
                </div>
                <div class="data-editor">
                    <h3 class="editor-title">📝 数据编辑</h3>
                    <div class="data-form">
                        <div class="form-group">
                            <label>测试1数据:</label>
                            <input type="text" id="radarData1" value="0.40,0.32,0.35,0.30,0.30,0.88">
                        </div>
                        <div class="form-group">
                            <label>测试2数据:</label>
                            <input type="text" id="radarData2" value="0.85,0.35,0.30,0.40,0.40,0.30">
                        </div>
                        <div class="form-group">
                            <label>测试3数据:</label>
                            <input type="text" id="radarData3" value="0.43,0.89,0.30,0.28,0.22,0.30">
                        </div>
                        <div class="form-group">
                            <label>配色调整:</label>
                            <div class="color-picker">
                                <span>测试1颜色:</span>
                                <input type="color" id="radarColor1" value="#FF6B6B">
                                <span>测试2颜色:</span>
                                <input type="color" id="radarColor2" value="#4ECDC4">
                                <span>测试3颜色:</span>
                                <input type="color" id="radarColor3" value="#45B7D1">
                            </div>
                        </div>
                        <div class="editor-controls">
                            <button class="update-btn" onclick="updateRadarChart()">更新图表</button>
                            <button class="reset-btn" onclick="resetRadarChart()">重置数据</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 2.10 误差棒图 -->
            <div id="errorbar" class="tab-content">
                <div class="chart-container">
                    <h2 class="chart-title">📏 2.10 误差棒图 - 细根生物量</h2>
                    <div class="chart-wrapper" id="errorbarChart"></div>
                </div>
                <div class="data-editor">
                    <h3 class="editor-title">📝 数据编辑</h3>
                    <div class="data-form">
                        <div class="form-group">
                            <label>树种1数据:</label>
                            <input type="text" id="errorbarData1" value="2.04,1.57,1.63">
                        </div>
                        <div class="form-group">
                            <label>树种2数据:</label>
                            <input type="text" id="errorbarData2" value="1.69,1.61,1.64">
                        </div>
                        <div class="form-group">
                            <label>树种3数据:</label>
                            <input type="text" id="errorbarData3" value="4.65,4.99,4.94">
                        </div>
                        <div class="form-group">
                            <label>树种1误差范围:</label>
                            <input type="text" id="errorbarRange1" value="1.3-2.5,1.2-1.9,1.4-1.9">
                            <div class="input-hint">格式：最小值-最大值,最小值-最大值,...</div>
                        </div>
                        <div class="form-group">
                            <label>树种2误差范围:</label>
                            <input type="text" id="errorbarRange2" value="1.5-1.9,1.4-1.8,1.5-1.8">
                            <div class="input-hint">格式：最小值-最大值,最小值-最大值,...</div>
                        </div>
                        <div class="form-group">
                            <label>树种3误差范围:</label>
                            <input type="text" id="errorbarRange3" value="4.4-4.9,4.8-5.2,4.7-5.1">
                            <div class="input-hint">格式：最小值-最大值,最小值-最大值,...</div>
                        </div>
                        <div class="form-group">
                            <label>树种4误差范围:</label>
                            <input type="text" id="errorbarRange4" value="3.1-3.7,2.1-2.6,3.8-4.4">
                            <div class="input-hint">格式：最小值-最大值,最小值-最大值,...</div>
                        </div>
                        <div class="form-group">
                            <label>配色调整:</label>
                            <div class="color-picker">
                                <span>树种1颜色:</span>
                                <input type="color" id="errorbarColor1" value="#FF9800">
                                <span>树种2颜色:</span>
                                <input type="color" id="errorbarColor2" value="#2196F3">
                                <span>树种3颜色:</span>
                                <input type="color" id="errorbarColor3" value="#4CAF50">
                                <span>树种4颜色:</span>
                                <input type="color" id="errorbarColor4" value="#9C27B0">
                            </div>
                        </div>
                        <div class="editor-controls">
                            <button class="update-btn" onclick="updateErrorbarChart()">更新图表</button>
                            <button class="reset-btn" onclick="resetErrorbarChart()">重置数据</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // 标签切换函数
        function showTab(tabName) {
            // 隐藏所有标签内容
            const tabContents = document.querySelectorAll('.tab-content');
            tabContents.forEach(tab => tab.classList.remove('active'));
            
            // 移除所有标签的激活状态
            const tabBtns = document.querySelectorAll('.tab-btn');
            tabBtns.forEach(btn => btn.classList.remove('active'));
            
            // 显示选中的标签内容
            document.getElementById(tabName).classList.add('active');
            
            // 激活选中的标签按钮
            event.target.classList.add('active');
            
            // 初始化对应的图表
            initChart(tabName);
        }

        // 图表初始化函数
        function initChart(chartType) {
            const chartDom = document.getElementById(chartType + 'Chart');
            if (!chartDom) return;
            
            const myChart = echarts.init(chartDom);
            
            switch(chartType) {
                case 'line':
                    initLineChart(myChart);
                    break;
                case 'bar':
                    initBarChart(myChart);
                    break;
                case 'barh':
                    initBarhChart(myChart);
                    break;
                case 'area':
                    initAreaChart(myChart);
                    break;
                case 'histogram':
                    initHistogramChart(myChart);
                    break;
                case 'pie':
                    initPieChart(myChart);
                    break;
                case 'scatter':
                    initScatterChart(myChart);
                    break;
                case 'box':
                    initBoxChart(myChart);
                    break;
                case 'radar':
                    initRadarChart(myChart);
                    break;
                case 'errorbar':
                    initErrorbarChart(myChart);
                    break;
            }
        }

        // 2.1 折线图初始化
        function initLineChart(chart) {
            const option = {
                title: {
                    text: '未来15天最高气温和最低气温',
                    left: 'center'
                },
                tooltip: {
                    trigger: 'axis'
                },
                legend: {
                    data: ['最高气温', '最低气温'],
                    top: '10%'
                },
                grid: {
                    left: '3%',
                    right: '4%',
                    bottom: '3%',
                    containLabel: true
                },
                xAxis: {
                    type: 'category',
                    data: ['第1天', '第2天', '第3天', '第4天', '第5天', '第6天', '第7天', 
                          '第8天', '第9天', '第10天', '第11天', '第12天', '第13天', '第14天', '第15天']
                },
                yAxis: {
                    type: 'value',
                    name: '温度 (°C)'
                },
                series: [
                    {
                        name: '最高气温',
                        type: 'line',
                        data: [32, 33, 34, 34, 33, 31, 30, 29, 30, 29, 26, 23, 21, 25, 31],
                        smooth: true,
                        lineStyle: {
                            width: 3
                        }
                    },
                    {
                        name: '最低气温',
                        type: 'line',
                        data: [19, 19, 20, 22, 22, 21, 22, 16, 18, 18, 17, 14, 15, 16, 16],
                        smooth: true,
                        lineStyle: {
                            width: 3
                        }
                    }
                ]
            };
            chart.setOption(option);
        }

        // 2.2 柱形图初始化
        function initBarChart(chart) {
            const option = {
                title: {
                    text: '2013-2019财年阿里巴巴GMV数据',
                    left: 'center'
                },
                tooltip: {
                    trigger: 'axis',
                    axisPointer: {
                        type: 'shadow'
                    }
                },
                grid: {
                    left: '3%',
                    right: '4%',
                    bottom: '3%',
                    containLabel: true
                },
                xAxis: {
                    type: 'category',
                    data: ['FY2013', 'FY2014', 'FY2015', 'FY2016', 'FY2017', 'FY2018', 'FY2019']
                },
                yAxis: {
                    type: 'value',
                    name: 'GMV (亿元)'
                },
                series: [{
                    data: [10770, 16780, 24440, 30920, 37670, 48200, 57270],
                    type: 'bar',
                    itemStyle: {
                        color: '#8D6E63'
                    }
                }]
            };
            chart.setOption(option);
        }

        // 2.3 条形图初始化
        function initBarhChart(chart) {
            const option = {
                title: {
                    text: '各商品种类的网购替代率',
                    left: 'center'
                },
                tooltip: {
                    trigger: 'axis',
                    axisPointer: {
                        type: 'shadow'
                    }
                },
                grid: {
                    left: '25%',
                    right: '5%',
                    bottom: '10%',
                    top: '15%',
                    containLabel: true
                },
                yAxis: {
                    type: 'category',
                    data: ['家政服务', '飞机票', '家具', '手机', '计算机', '汽车用品', '通信充值', 
                          '个人护理', '书报杂志', '餐饮旅游', '家用电器', '食品饮料', '家庭日杂', 
                          '保险票务', '服装鞋帽', '数码产品', '其他商品', '工艺品'],
                    axisLabel: {
                        interval: 0,
                        fontSize: 12,
                        margin: 10
                    }
                },
                xAxis: {
                    type: 'value',
                    name: '替代率',
                    max: 1.0
                },
                series: [{
                    data: [0.959, 0.951, 0.935, 0.924, 0.893, 0.892, 0.865, 0.863, 0.860, 
                           0.856, 0.854, 0.835, 0.826, 0.816, 0.798, 0.765, 0.763, 0.67],
                    type: 'bar',
                    barWidth: '60%',
                    itemStyle: {
                        color: '#A1887F'
                    },
                    label: {
                        show: true,
                        position: 'right',
                        formatter: '{c}'
                    }
                }]
            };
            chart.setOption(option);
        }

        // 2.4 面积图初始化
        function initAreaChart(chart) {
            const option = {
                title: {
                    text: '物流公司物流费用统计',
                    left: 'center'
                },
                tooltip: {
                    trigger: 'axis'
                },
                legend: {
                    data: ['公司A', '公司B', '公司C'],
                    top: '10%'
                },
                grid: {
                    left: '3%',
                    right: '4%',
                    bottom: '3%',
                    containLabel: true
                },
                xAxis: {
                    type: 'category',
                    boundaryGap: false,
                    data: ['1月', '2月', '3月', '4月', '5月', '6月', '7月', '8月', '9月', '10月', '11月', '12月']
                },
                yAxis: {
                    type: 'value',
                    name: '费用 (万元)'
                },
                series: [
                    {
                        name: '公司A',
                        type: 'line',
                        stack: 'Total',
                        areaStyle: {},
                        data: [198, 215, 245, 222, 200, 236, 201, 253, 236, 200, 266, 290]
                    },
                    {
                        name: '公司B',
                        type: 'line',
                        stack: 'Total',
                        areaStyle: {},
                        data: [203, 236, 200, 236, 269, 216, 298, 333, 301, 349, 360, 368]
                    },
                    {
                        name: '公司C',
                        type: 'line',
                        stack: 'Total',
                        areaStyle: {},
                        data: [185, 205, 226, 199, 238, 200, 250, 209, 246, 219, 253, 288]
                    }
                ]
            };
            chart.setOption(option);
        }

        // 2.5 直方图初始化
        function initHistogramChart(chart) {
            const scores = [62,75,88,59,94,65,72,68,81,84,79,92,76,63,71,69,78,85,90,67,
                           73,88,91,65,72,80,85,62,76,91,88,85,79,68,72,75,83,81,77,90,
                           96,65,74,76,82,85,88,91,73,69];
            
            const option = {
                title: {
                    text: '成绩分布直方图',
                    left: 'center'
                },
                tooltip: {
                    trigger: 'axis'
                },
                grid: {
                    left: '3%',
                    right: '4%',
                    bottom: '3%',
                    containLabel: true
                },
                xAxis: {
                    type: 'category',
                    data: ['60-65', '65-70', '70-75', '75-80', '80-85', '85-90', '90-95', '95-100']
                },
                yAxis: {
                    type: 'value',
                    name: '人数'
                },
                series: [{
                    data: [4, 6, 8, 7, 9, 8, 5, 3],
                    type: 'bar',
                    itemStyle: {
                        color: '#8D6E63'
                    }
                }]
            };
            chart.setOption(option);
        }

        // 2.6 饼图初始化
        function initPieChart(chart) {
            const option = {
                title: {
                    text: '支付宝月账单报告',
                    left: 'center'
                },
                tooltip: {
                    trigger: 'item',
                    formatter: '{a} <br/>{b}: {c}元 ({d}%)'
                },
                legend: {
                    orient: 'vertical',
                    right: '10%',
                    top: 'center'
                },
                series: [
                    {
                        name: '消费类别',
                        type: 'pie',
                        radius: ['40%', '70%'],
                        center: ['35%', '50%'],
                        data: [
                            {value: 800, name: '购物'},
                            {value: 100, name: '人情往来'},
                            {value: 1000, name: '餐饮美食'},
                            {value: 200, name: '通信物流'},
                            {value: 300, name: '生活日用'},
                            {value: 200, name: '交通出行'},
                            {value: 200, name: '休闲娱乐'},
                            {value: 200, name: '其他'}
                        ],
                        emphasis: {
                            itemStyle: {
                                shadowBlur: 10,
                                shadowOffsetX: 0,
                                shadowColor: 'rgba(0, 0, 0, 0.5)'
                            }
                        },
                        label: {
                            show: false
                        }
                    }
                ]
            };
            chart.setOption(option);
        }

        // 2.7 散点图初始化
        function initScatterChart(chart) {
            const option = {
                title: {
                    text: '汽车速度与制动距离的关系',
                    left: 'center'
                },
                tooltip: {
                    trigger: 'axis',
                    formatter: '速度: {c0} km/h<br/>距离: {c1} m'
                },
                grid: {
                    left: '3%',
                    right: '4%',
                    bottom: '3%',
                    containLabel: true
                },
                xAxis: {
                    type: 'value',
                    name: '速度 (km/h)'
                },
                yAxis: {
                    type: 'value',
                    name: '制动距离 (m)'
                },
                series: [{
                    data: [[10,0.5],[20,2.0],[30,4.4],[40,7.9],[50,12.3],[60,17.7],[70,24.1],
                          [80,31.5],[90,39.9],[100,49.2],[110,59.5],[120,70.8],[130,83.1],
                          [140,96.4],[150,110.7],[160,126.0],[170,142.2],[180,159.4],[190,177.6],[200,196.8]],
                    type: 'scatter',
                    symbolSize: 10
                }]
            };
            chart.setOption(option);
        }

        // 2.8 箱形图初始化
        function initBoxChart(chart) {
            const option = {
                title: {
                    text: '2017年和2018年全国发电量统计',
                    left: 'center'
                },
                tooltip: {
                    trigger: 'item',
                    axisPointer: {
                        type: 'shadow'
                    }
                },
                grid: {
                    left: '10%',
                    right: '10%',
                    bottom: '15%'
                },
                xAxis: {
                    type: 'category',
                    data: ['2018年', '2017年']
                },
                yAxis: {
                    type: 'value',
                    name: '发电量 (亿千瓦时)'
                },
                series: [
                    {
                        name: 'boxplot',
                        type: 'boxplot',
                        data: [
                            [5107.8, 5330.2, 5543, 5550.6, 6404.9],
                            [4605.2, 5038.1, 5196.3, 5219.6, 6047.4]
                        ]
                    }
                ]
            };
            chart.setOption(option);
        }

        // 2.9 雷达图初始化
        function initRadarChart(chart) {
            const option = {
                title: {
                    text: '霍兰德职业兴趣测试',
                    left: 'center'
                },
                tooltip: {},
                radar: {
                    indicator: [
                        { name: '研究型(I)', max: 1 },
                        { name: '艺术型(A)', max: 1 },
                        { name: '社会型(S)', max: 1 },
                        { name: '企业型(E)', max: 1 },
                        { name: '传统型(C)', max: 1 },
                        { name: '现实型(R)', max: 1 }
                    ]
                },
                series: [{
                    name: '测试结果',
                    type: 'radar',
                    data: [
                        {
                            value: [0.40, 0.32, 0.35, 0.30, 0.30, 0.88],
                            name: '测试1'
                        },
                        {
                            value: [0.85, 0.35, 0.30, 0.40, 0.40, 0.30],
                            name: '测试2'
                        },
                        {
                            value: [0.43, 0.89, 0.30, 0.28, 0.22, 0.30],
                            name: '测试3'
                        }
                    ]
                }]
            };
            chart.setOption(option);
        }

        // 2.10 误差棒图初始化
        function initErrorbarChart(chart) {
            const option = {
                title: {
                    text: '4个树种不同季节的细根生物量（含误差棒）',
                    left: 'center'
                },
                tooltip: {
                    trigger: 'axis',
                    axisPointer: {
                        type: 'cross'
                    },
                    formatter: function(params) {
                        let result = params[0].name + '<br/>';
                        params.forEach(param => {
                            if (param.seriesType === 'scatter') {
                                result += `${param.seriesName}: ${param.value[1]}g<br/>`;
                            }
                        });
                        return result;
                    }
                },
                legend: {
                    data: ['树种1', '树种2', '树种3', '树种4'],
                    top: '10%'
                },
                grid: {
                    left: '3%',
                    right: '4%',
                    bottom: '3%',
                    containLabel: true
                },
                xAxis: {
                    type: 'category',
                    data: ['春季', '夏季', '秋季']
                },
                yAxis: {
                    type: 'value',
                    name: '生物量 (g)',
                    min: 0
                },
                series: [
                    {
                        name: '树种1',
                        type: 'scatter',
                        data: [
                            { value: [0, 2.04], itemStyle: { color: '#FF9800' } },
                            { value: [1, 1.57], itemStyle: { color: '#FF9800' } },
                            { value: [2, 1.63], itemStyle: { color: '#FF9800' } }
                        ],
                        symbolSize: 8
                    },
                    {
                        name: '树种1误差棒',
                        type: 'custom',
                        renderItem: function(params, api) {
                            const xIndex = api.value(0);
                            const low = api.value(1);
                            const high = api.value(2);
                            const categoryIndex = api.value(3);
                            
                            const point = api.coord([xIndex, (low + high) / 2]);
                            const lowPoint = api.coord([xIndex, low]);
                            const highPoint = api.coord([xIndex, high]);
                            
                            return {
                                type: 'group',
                                children: [
                                    {
                                        type: 'line',
                                        shape: {
                                            x1: point[0] - 15,
                                            y1: point[1],
                                            x2: point[0] + 15,
                                            y2: point[1]
                                        },
                                        style: {
                                            stroke: api.visual('color'),
                                            lineWidth: 2
                                        }
                                    },
                                    {
                                        type: 'line',
                                        shape: {
                                            x1: point[0],
                                            y1: lowPoint[1],
                                            x2: point[0],
                                            y2: highPoint[1]
                                        },
                                        style: {
                                            stroke: api.visual('color'),
                                            lineWidth: 2
                                        }
                                    },
                                    {
                                        type: 'line',
                                        shape: {
                                            x1: point[0] - 5,
                                            y1: lowPoint[1],
                                            x2: point[0] + 5,
                                            y2: lowPoint[1]
                                        },
                                        style: {
                                            stroke: api.visual('color'),
                                            lineWidth: 2
                                        }
                                    },
                                    {
                                        type: 'line',
                                        shape: {
                                            x1: point[0] - 5,
                                            y1: highPoint[1],
                                            x2: point[0] + 5,
                                            y2: highPoint[1]
                                        },
                                        style: {
                                            stroke: api.visual('color'),
                                            lineWidth: 2
                                        }
                                    }
                                ]
                            };
                        },
                        encode: {
                            x: 0,
                            y: [1, 2],
                            tooltip: [1, 2],
                            itemName: 3
                        },
                        data: [
                            [0, 1.3, 2.5, '树种1'],
                            [1, 1.2, 1.9, '树种1'],
                            [2, 1.4, 1.9, '树种1']
                        ],
                        z: 1
                    },
                    {
                        name: '树种2',
                        type: 'scatter',
                        data: [
                            { value: [0, 1.69], itemStyle: { color: '#2196F3' } },
                            { value: [1, 1.61], itemStyle: { color: '#2196F3' } },
                            { value: [2, 1.64], itemStyle: { color: '#2196F3' } }
                        ],
                        symbolSize: 8
                    },
                    {
                        name: '树种2误差棒',
                        type: 'custom',
                        renderItem: function(params, api) {
                            const xIndex = api.value(0);
                            const low = api.value(1);
                            const high = api.value(2);
                            const categoryIndex = api.value(3);
                            
                            const point = api.coord([xIndex, (low + high) / 2]);
                            const lowPoint = api.coord([xIndex, low]);
                            const highPoint = api.coord([xIndex, high]);
                            
                            return {
                                type: 'group',
                                children: [
                                    {
                                        type: 'line',
                                        shape: {
                                            x1: point[0] - 15,
                                            y1: point[1],
                                            x2: point[0] + 15,
                                            y2: point[1]
                                        },
                                        style: {
                                            stroke: api.visual('color'),
                                            lineWidth: 2
                                        }
                                    },
                                    {
                                        type: 'line',
                                        shape: {
                                            x1: point[0],
                                            y1: lowPoint[1],
                                            x2: point[0],
                                            y2: highPoint[1]
                                        },
                                        style: {
                                            stroke: api.visual('color'),
                                            lineWidth: 2
                                        }
                                    },
                                    {
                                        type: 'line',
                                        shape: {
                                            x1: point[0] - 5,
                                            y1: lowPoint[1],
                                            x2: point[0] + 5,
                                            y2: lowPoint[1]
                                        },
                                        style: {
                                            stroke: api.visual('color'),
                                            lineWidth: 2
                                        }
                                    },
                                    {
                                        type: 'line',
                                        shape: {
                                            x1: point[0] - 5,
                                            y1: highPoint[1],
                                            x2: point[0] + 5,
                                            y2: highPoint[1]
                                        },
                                        style: {
                                            stroke: api.visual('color'),
                                            lineWidth: 2
                                        }
                                    }
                                ]
                            };
                        },
                        encode: {
                            x: 0,
                            y: [1, 2],
                            tooltip: [1, 2],
                            itemName: 3
                        },
                        data: [
                            [0, 1.5, 1.9, '树种2'],
                            [1, 1.4, 1.8, '树种2'],
                            [2, 1.5, 1.8, '树种2']
                        ],
                        z: 1
                    },
                    {
                        name: '树种3',
                        type: 'scatter',
                        data: [
                            { value: [0, 4.65], itemStyle: { color: '#4CAF50' } },
                            { value: [1, 4.99], itemStyle: { color: '#4CAF50' } },
                            { value: [2, 4.94], itemStyle: { color: '#4CAF50' } }
                        ],
                        symbolSize: 8
                    },
                    {
                        name: '树种3误差棒',
                        type: 'custom',
                        renderItem: function(params, api) {
                            const xIndex = api.value(0);
                            const low = api.value(1);
                            const high = api.value(2);
                            const categoryIndex = api.value(3);
                            
                            const point = api.coord([xIndex, (low + high) / 2]);
                            const lowPoint = api.coord([xIndex, low]);
                            const highPoint = api.coord([xIndex, high]);
                            
                            return {
                                type: 'group',
                                children: [
                                    {
                                        type: 'line',
                                        shape: {
                                            x1: point[0] - 15,
                                            y1: point[1],
                                            x2: point[0] + 15,
                                            y2: point[1]
                                        },
                                        style: {
                                            stroke: api.visual('color'),
                                            lineWidth: 2
                                        }
                                    },
                                    {
                                        type: 'line',
                                        shape: {
                                            x1: point[0],
                                            y1: lowPoint[1],
                                            x2: point[0],
                                            y2: highPoint[1]
                                        },
                                        style: {
                                            stroke: api.visual('color'),
                                            lineWidth: 2
                                        }
                                    },
                                    {
                                        type: 'line',
                                        shape: {
                                            x1: point[0] - 5,
                                            y1: lowPoint[1],
                                            x2: point[0] + 5,
                                            y2: lowPoint[1]
                                        },
                                        style: {
                                            stroke: api.visual('color'),
                                            lineWidth: 2
                                        }
                                    },
                                    {
                                        type: 'line',
                                        shape: {
                                            x1: point[0] - 5,
                                            y1: highPoint[1],
                                            x2: point[0] + 5,
                                            y2: highPoint[1]
                                        },
                                        style: {
                                            stroke: api.visual('color'),
                                            lineWidth: 2
                                        }
                                    }
                                ]
                            };
                        },
                        encode: {
                            x: 0,
                            y: [1, 2],
                            tooltip: [1, 2],
                            itemName: 3
                        },
                        data: [
                            [0, 4.4, 4.9, '树种3'],
                            [1, 4.8, 5.2, '树种3'],
                            [2, 4.7, 5.1, '树种3']
                        ],
                        z: 1
                    },
                    {
                        name: '树种4',
                        type: 'scatter',
                        data: [
                            { value: [0, 3.39], itemStyle: { color: '#9C27B0' } },
                            { value: [1, 2.33], itemStyle: { color: '#9C27B0' } },
                            { value: [2, 4.10], itemStyle: { color: '#9C27B0' } }
                        ],
                        symbolSize: 8
                    },
                    {
                        name: '树种4误差棒',
                        type: 'custom',
                        renderItem: function(params, api) {
                            const xIndex = api.value(0);
                            const low = api.value(1);
                            const high = api.value(2);
                            const categoryIndex = api.value(3);
                            
                            const point = api.coord([xIndex, (low + high) / 2]);
                            const lowPoint = api.coord([xIndex, low]);
                            const highPoint = api.coord([xIndex, high]);
                            
                            return {
                                type: 'group',
                                children: [
                                    {
                                        type: 'line',
                                        shape: {
                                            x1: point[0] - 15,
                                            y1: point[1],
                                            x2: point[0] + 15,
                                            y2: point[1]
                                        },
                                        style: {
                                            stroke: api.visual('color'),
                                            lineWidth: 2
                                        }
                                    },
                                    {
                                        type: 'line',
                                        shape: {
                                            x1: point[0],
                                            y1: lowPoint[1],
                                            x2: point[0],
                                            y2: highPoint[1]
                                        },
                                        style: {
                                            stroke: api.visual('color'),
                                            lineWidth: 2
                                        }
                                    },
                                    {
                                        type: 'line',
                                        shape: {
                                            x1: point[0] - 5,
                                            y1: lowPoint[1],
                                            x2: point[0] + 5,
                                            y2: lowPoint[1]
                                        },
                                        style: {
                                            stroke: api.visual('color'),
                                            lineWidth: 2
                                        }
                                    },
                                    {
                                        type: 'line',
                                        shape: {
                                            x1: point[0] - 5,
                                            y1: highPoint[1],
                                            x2: point[0] + 5,
                                            y2: highPoint[1]
                                        },
                                        style: {
                                            stroke: api.visual('color'),
                                            lineWidth: 2
                                        }
                                    }
                                ]
                            };
                        },
                        encode: {
                            x: 0,
                            y: [1, 2],
                            tooltip: [1, 2],
                            itemName: 3
                        },
                        data: [
                            [0, 3.1, 3.7, '树种4'],
                            [1, 2.1, 2.6, '树种4'],
                            [2, 3.8, 4.4, '树种4']
                        ],
                        z: 1
                    }
                ]
            };
            chart.setOption(option);
        }

        // 折线图数据更新函数
        function updateLineChart() {
            const highData = document.getElementById('lineHighData').value.split(',').map(Number);
            const lowData = document.getElementById('lineLowData').value.split(',').map(Number);
            const highColor = document.getElementById('lineHighColor').value;
            const lowColor = document.getElementById('lineLowColor').value;
            
            const chart = echarts.init(document.getElementById('lineChart'));
            const option = chart.getOption();
            
            option.series[0].data = highData;
            option.series[0].lineStyle = { color: highColor };
            option.series[0].itemStyle = { color: highColor };
            
            option.series[1].data = lowData;
            option.series[1].lineStyle = { color: lowColor };
            option.series[1].itemStyle = { color: lowColor };
            
            chart.setOption(option);
        }

        // 折线图数据重置函数
        function resetLineChart() {
            document.getElementById('lineHighData').value = "32,33,34,34,33,31,30,29,30,29,26,23,21,25,31";
            document.getElementById('lineLowData').value = "19,19,20,22,22,21,22,16,18,18,17,14,15,16,16";
            document.getElementById('lineHighColor').value = "#FF6B6B";
            document.getElementById('lineLowColor').value = "#4ECDC4";
            updateLineChart();
        }

        // 柱形图数据更新函数
        function updateBarChart() {
            const data = document.getElementById('barData').value.split(',').map(Number);
            const labels = document.getElementById('barLabels').value.split(',');
            const barColor = document.getElementById('barColor').value;
            
            const chart = echarts.init(document.getElementById('barChart'));
            const option = chart.getOption();
            
            option.xAxis.data = labels;
            option.series[0].data = data;
            option.series[0].itemStyle = { color: barColor };
            
            chart.setOption(option);
        }

        // 柱形图数据重置函数
        function resetBarChart() {
            document.getElementById('barData').value = "10770,16780,24440,30920,37670,48200,57270";
            document.getElementById('barLabels').value = "FY2013,FY2014,FY2015,FY2016,FY2017,FY2018,FY2019";
            document.getElementById('barColor').value = "#8D6E63";
            updateBarChart();
        }

        // 条形图数据更新函数
        function updateBarhChart() {
            const data = document.getElementById('barhData').value.split(',').map(Number);
            const labels = document.getElementById('barhLabels').value.split(',');
            const barhColor = document.getElementById('barhColor').value;
            
            const chart = echarts.init(document.getElementById('barhChart'));
            const option = chart.getOption();
            
            option.yAxis.data = labels;
            option.series[0].data = data;
            option.series[0].itemStyle = { color: barhColor };
            
            chart.setOption(option);
        }

        // 条形图数据重置函数
        function resetBarhChart() {
            document.getElementById('barhData').value = "0.959,0.951,0.935,0.924,0.893,0.892,0.865,0.863,0.860,0.856,0.854,0.835,0.826,0.816,0.798,0.765,0.763,0.67";
            document.getElementById('barhLabels').value = "家政服务,飞机票,家具,手机,计算机,汽车用品,通信充值,个人护理,书报杂志,餐饮旅游,家用电器,食品饮料,家庭日杂,保险票务,服装鞋帽,数码产品,其他商品,工艺品";
            document.getElementById('barhColor').value = "#A1887F";
            updateBarhChart();
        }

        // 面积图数据更新函数
        function updateAreaChart() {
            const dataA = document.getElementById('areaDataA').value.split(',').map(Number);
            const dataB = document.getElementById('areaDataB').value.split(',').map(Number);
            const dataC = document.getElementById('areaDataC').value.split(',').map(Number);
            const colorA = document.getElementById('areaColorA').value;
            const colorB = document.getElementById('areaColorB').value;
            const colorC = document.getElementById('areaColorC').value;
            
            const chart = echarts.init(document.getElementById('areaChart'));
            const option = chart.getOption();
            
            option.series[0].data = dataA;
            option.series[0].areaStyle = { color: colorA };
            option.series[0].lineStyle = { color: colorA };
            option.series[0].itemStyle = { color: colorA };
            
            option.series[1].data = dataB;
            option.series[1].areaStyle = { color: colorB };
            option.series[1].lineStyle = { color: colorB };
            option.series[1].itemStyle = { color: colorB };
            
            option.series[2].data = dataC;
            option.series[2].areaStyle = { color: colorC };
            option.series[2].lineStyle = { color: colorC };
            option.series[2].itemStyle = { color: colorC };
            
            chart.setOption(option);
        }

        // 面积图数据重置函数
        function resetAreaChart() {
            document.getElementById('areaDataA').value = "198,215,245,222,200,236,201,253,236,200,266,290";
            document.getElementById('areaDataB').value = "203,236,200,236,269,216,298,333,301,349,360,368";
            document.getElementById('areaDataC').value = "185,205,226,199,238,200,250,209,246,219,253,288";
            document.getElementById('areaColorA').value = "#FF9800";
            document.getElementById('areaColorB').value = "#2196F3";
            document.getElementById('areaColorC').value = "#4CAF50";
            updateAreaChart();
        }

        // 直方图数据更新函数
        function updateHistogramChart() {
            const data = document.getElementById('histogramData').value.split(',').map(Number);
            const labels = document.getElementById('histogramLabels').value.split(',');
            const histogramColor = document.getElementById('histogramColor').value;
            
            const chart = echarts.init(document.getElementById('histogramChart'));
            const option = chart.getOption();
            
            option.xAxis.data = labels;
            option.series[0].data = data;
            option.series[0].itemStyle = { color: histogramColor };
            
            chart.setOption(option);
        }

        // 直方图数据重置函数
        function resetHistogramChart() {
            document.getElementById('histogramData').value = "4,6,8,7,9,8,5,3";
            document.getElementById('histogramLabels').value = "60-65,65-70,70-75,75-80,80-85,85-90,90-95,95-100";
            document.getElementById('histogramColor').value = "#8D6E63";
            updateHistogramChart();
        }

        // 饼图数据更新函数
        function updatePieChart() {
            const values = document.getElementById('pieValues').value.split(',').map(Number);
            const labels = document.getElementById('pieLabels').value.split(',');
            const colors = [
                document.getElementById('pieColor1').value,
                document.getElementById('pieColor2').value,
                document.getElementById('pieColor3').value,
                document.getElementById('pieColor4').value,
                document.getElementById('pieColor5').value,
                document.getElementById('pieColor6').value,
                document.getElementById('pieColor7').value,
                document.getElementById('pieColor8').value
            ];
            
            const chart = echarts.init(document.getElementById('pieChart'));
            const option = chart.getOption();
            
            option.series[0].data = values.map((value, index) => ({
                value: value,
                name: labels[index] || `类别${index + 1}`,
                itemStyle: { color: colors[index] || colors[0] }
            }));
            
            // 更新图例数据
            option.legend.data = labels;
            
            chart.setOption(option);
        }

        // 饼图数据重置函数
        function resetPieChart() {
            document.getElementById('pieValues').value = "800,100,1000,200,300,200,200,200";
            document.getElementById('pieLabels').value = "购物,人情往来,餐饮美食,通信物流,生活日用,交通出行,休闲娱乐,其他";
            document.getElementById('pieColor1').value = "#FF6B6B";
            document.getElementById('pieColor2').value = "#4ECDC4";
            document.getElementById('pieColor3').value = "#45B7D1";
            document.getElementById('pieColor4').value = "#96CEB4";
            document.getElementById('pieColor5').value = "#FECA57";
            document.getElementById('pieColor6').value = "#FF9FF3";
            document.getElementById('pieColor7').value = "#54A0FF";
            document.getElementById('pieColor8').value = "#5F27CD";
            updatePieChart();
        }

        // 散点图数据更新函数
        function updateScatterChart() {
            const dataPairs = document.getElementById('scatterData').value.split(';');
            const data = dataPairs.map(pair => {
                const [x, y] = pair.split(',').map(Number);
                return [x, y];
            });
            const scatterColor = document.getElementById('scatterColor').value;
            
            const chart = echarts.init(document.getElementById('scatterChart'));
            const option = chart.getOption();
            
            option.series[0].data = data;
            option.series[0].itemStyle = { color: scatterColor };
            
            chart.setOption(option);
        }

        // 散点图数据重置函数
        function resetScatterChart() {
            document.getElementById('scatterData').value = "10,0.5;20,2.0;30,4.4;40,7.9;50,12.3;60,17.7;70,24.1;80,31.5;90,39.9;100,49.2;110,59.5;120,70.8;130,83.1;140,96.4;150,110.7;160,126.0;170,142.2;180,159.4;190,177.6;200,196.8";
            document.getElementById('scatterColor').value = "#FF5722";
            updateScatterChart();
        }

        // 箱形图数据更新函数
        function updateBoxChart() {
            const data2018 = document.getElementById('boxData2018').value.split(',').map(Number);
            const data2017 = document.getElementById('boxData2017').value.split(',').map(Number);
            const color2018 = document.getElementById('boxColor2018').value;
            const color2017 = document.getElementById('boxColor2017').value;
            
            const chart = echarts.init(document.getElementById('boxChart'));
            const option = chart.getOption();
            
            // 确保数据是5个数值（最小值、Q1、中位数、Q3、最大值）
            if (data2018.length === 5 && data2017.length === 5) {
                option.series[0].data = [data2018, data2017];
                option.series[0].itemStyle = {
                    color: color2018,
                    borderColor: color2018
                };
                
                chart.setOption(option);
            } else {
                alert('箱形图需要5个数值：最小值、第一四分位数、中位数、第三四分位数、最大值');
            }
        }

        // 箱形图数据重置函数
        function resetBoxChart() {
            document.getElementById('boxData2018').value = "5107.8,5330.2,5543,5550.6,6404.9";
            document.getElementById('boxData2017').value = "4605.2,5038.1,5196.3,5219.6,6047.4";
            document.getElementById('boxColor2018').value = "#FF9800";
            document.getElementById('boxColor2017').value = "#2196F3";
            updateBoxChart();
        }

        // 雷达图数据更新函数
        function updateRadarChart() {
            const data1 = document.getElementById('radarData1').value.split(',').map(Number);
            const data2 = document.getElementById('radarData2').value.split(',').map(Number);
            const data3 = document.getElementById('radarData3').value.split(',').map(Number);
            const color1 = document.getElementById('radarColor1').value;
            const color2 = document.getElementById('radarColor2').value;
            const color3 = document.getElementById('radarColor3').value;
            
            const chart = echarts.init(document.getElementById('radarChart'));
            const option = chart.getOption();
            
            option.series[0].data = [
                { 
                    value: data1, 
                    name: '测试1',
                    lineStyle: { color: color1 },
                    areaStyle: { color: color1 + '33' }
                },
                { 
                    value: data2, 
                    name: '测试2',
                    lineStyle: { color: color2 },
                    areaStyle: { color: color2 + '33' }
                },
                { 
                    value: data3, 
                    name: '测试3',
                    lineStyle: { color: color3 },
                    areaStyle: { color: color3 + '33' }
                }
            ];
            
            chart.setOption(option);
        }

        // 雷达图数据重置函数
        function resetRadarChart() {
            document.getElementById('radarData1').value = "0.40,0.32,0.35,0.30,0.30,0.88";
            document.getElementById('radarData2').value = "0.85,0.35,0.30,0.40,0.40,0.30";
            document.getElementById('radarData3').value = "0.43,0.89,0.30,0.28,0.22,0.30";
            document.getElementById('radarColor1').value = "#FF6B6B";
            document.getElementById('radarColor2').value = "#4ECDC4";
            document.getElementById('radarColor3').value = "#45B7D1";
            updateRadarChart();
        }

        // 误差棒图数据更新函数
        function updateErrorbarChart() {
            const data1 = document.getElementById('errorbarData1').value.split(',').map(Number);
            const data2 = document.getElementById('errorbarData2').value.split(',').map(Number);
            const data3 = document.getElementById('errorbarData3').value.split(',').map(Number);
            const data4 = document.getElementById('errorbarData4').value.split(',').map(Number);
            const range1 = document.getElementById('errorbarRange1').value.split(',');
            const range2 = document.getElementById('errorbarRange2').value.split(',');
            const range3 = document.getElementById('errorbarRange3').value.split(',');
            const range4 = document.getElementById('errorbarRange4').value.split(',');
            const color1 = document.getElementById('errorbarColor1').value;
            const color2 = document.getElementById('errorbarColor2').value;
            const color3 = document.getElementById('errorbarColor3').value;
            const color4 = document.getElementById('errorbarColor4').value;
            
            const chart = echarts.init(document.getElementById('errorbarChart'));
            const option = chart.getOption();
            
            // 解析误差范围数据
            const parseRange = (rangeArray) => {
                return rangeArray.map(range => {
                    const [low, high] = range.split('-').map(Number);
                    return [low, high];
                });
            };
            
            // 更新树种1的数据点和误差范围
            option.series[0].data = data1.map((value, index) => ({
                value: [index, value],
                itemStyle: { color: color1 }
            }));
            option.series[1].data = parseRange(range1).map(([low, high], index) => [index, low, high, '树种1']);
            
            // 更新树种2的数据点和误差范围
            option.series[2].data = data2.map((value, index) => ({
                value: [index, value],
                itemStyle: { color: color2 }
            }));
            option.series[3].data = parseRange(range2).map(([low, high], index) => [index, low, high, '树种2']);
            
            // 更新树种3的数据点和误差范围
            option.series[4].data = data3.map((value, index) => ({
                value: [index, value],
                itemStyle: { color: color3 }
            }));
            option.series[5].data = parseRange(range3).map(([low, high], index) => [index, low, high, '树种3']);
            
            // 更新树种4的数据点和误差范围
            option.series[6].data = data4.map((value, index) => ({
                value: [index, value],
                itemStyle: { color: color4 }
            }));
            option.series[7].data = parseRange(range4).map(([low, high], index) => [index, low, high, '树种4']);
            
            // 更新误差棒的颜色
            option.series[1].itemStyle = { color: color1 };
            option.series[3].itemStyle = { color: color2 };
            option.series[5].itemStyle = { color: color3 };
            option.series[7].itemStyle = { color: color4 };
            
            chart.setOption(option);
        }

        // 误差棒图数据重置函数
        function resetErrorbarChart() {
            document.getElementById('errorbarData1').value = "2.04,1.57,1.63";
            document.getElementById('errorbarData2').value = "1.69,1.61,1.64";
            document.getElementById('errorbarData3').value = "4.65,4.99,4.94";
            document.getElementById('errorbarData4').value = "3.39,2.33,4.10";
            document.getElementById('errorbarRange1').value = "1.3-2.5,1.2-1.9,1.4-1.9";
            document.getElementById('errorbarRange2').value = "1.5-1.9,1.4-1.8,1.5-1.8";
            document.getElementById('errorbarRange3').value = "4.4-4.9,4.8-5.2,4.7-5.1";
            document.getElementById('errorbarRange4').value = "3.1-3.7,2.1-2.6,3.8-4.4";
            document.getElementById('errorbarColor1').value = "#FF9800";
            document.getElementById('errorbarColor2').value = "#2196F3";
            document.getElementById('errorbarColor3').value = "#4CAF50";
            document.getElementById('errorbarColor4').value = "#9C27B0";
            updateErrorbarChart();
        }

        // 页面加载时初始化第一个图表
        window.onload = function() {
            initChart('line');
            setupDataEditors();
        };

        // 数据编辑器增强功能
        function setupDataEditors() {
            // 为所有输入框添加实时验证
            const inputs = document.querySelectorAll('input[type="text"], textarea');
            inputs.forEach(input => {
                input.addEventListener('input', function() {
                    validateInput(this);
                });
                input.addEventListener('blur', function() {
                    formatInput(this);
                });
            });

            // 为颜色选择器添加实时预览
            const colorInputs = document.querySelectorAll('input[type="color"]');
            colorInputs.forEach(input => {
                input.addEventListener('input', function() {
                    const formGroup = this.closest('.form-group');
                    if (formGroup) {
                        formGroup.style.borderLeftColor = this.value;
                    }
                });
            });

            // 添加键盘快捷键
            document.addEventListener('keydown', function(e) {
                if (e.ctrlKey && e.key === 'Enter') {
                    const activeTab = document.querySelector('.tab-btn.active');
                    if (activeTab) {
                        const chartType = activeTab.getAttribute('data-chart');
                        const updateFunction = window['update' + chartType.charAt(0).toUpperCase() + chartType.slice(1) + 'Chart'];
                        if (updateFunction) {
                            updateFunction();
                        }
                    }
                }
            });
        }

        // 输入验证函数
        function validateInput(input) {
            const value = input.value.trim();
            const formGroup = input.closest('.form-group');
            
            // 移除之前的验证消息
            const existingMessage = formGroup.querySelector('.validation-message');
            if (existingMessage) {
                existingMessage.remove();
            }

            // 验证数字输入
            if (input.id.includes('Data') || input.id.includes('Range')) {
                const values = value.split(',').map(v => v.trim()).filter(v => v);
                
                if (values.length === 0 && value !== '') {
                    showValidationMessage(formGroup, '请输入有效的逗号分隔值', 'error');
                    return false;
                }

                // 检查是否为数字或数字范围
                for (const val of values) {
                    if (val.includes('-')) {
                        // 范围验证
                        const rangeParts = val.split('-');
                        if (rangeParts.length !== 2 || isNaN(rangeParts[0]) || isNaN(rangeParts[1])) {
                            showValidationMessage(formGroup, '范围格式应为：最小值-最大值', 'error');
                            return false;
                        }
                    } else if (isNaN(val)) {
                        showValidationMessage(formGroup, '请输入有效的数字', 'error');
                        return false;
                    }
                }

                showValidationMessage(formGroup, '格式正确', 'success');
                return true;
            }

            return true;
        }

        // 显示验证消息
        function showValidationMessage(formGroup, message, type) {
            const existingMessage = formGroup.querySelector('.validation-message');
            if (existingMessage) {
                existingMessage.remove();
            }

            const messageDiv = document.createElement('div');
            messageDiv.className = `validation-message ${type}`;
            messageDiv.textContent = message;
            formGroup.appendChild(messageDiv);

            formGroup.classList.remove('error', 'success');
            formGroup.classList.add(type);
        }

        // 输入格式化函数
        function formatInput(input) {
            const value = input.value.trim();
            if (value.includes(',')) {
                // 格式化逗号分隔的数字
                const formatted = value.split(',')
                    .map(v => v.trim())
                    .filter(v => v)
                    .join(', ');
                input.value = formatted;
            }
        }

        // 自动更新功能（可选）
        function enableAutoUpdate(input, chartType) {
            let timeoutId;
            input.addEventListener('input', function() {
                clearTimeout(timeoutId);
                timeoutId = setTimeout(() => {
                    const updateFunction = window['update' + chartType.charAt(0).toUpperCase() + chartType.slice(1) + 'Chart'];
                    if (updateFunction && validateInput(input)) {
                        updateFunction();
                    }
                }, 1000);
            });
        }

        // 批量数据编辑功能
        function showBatchEditor(chartType) {
            const editor = document.createElement('div');
            editor.className = 'batch-editor';
            editor.innerHTML = `
                <div class="batch-editor-overlay">
                    <div class="batch-editor-content">
                        <h3>批量数据编辑 - ${chartType}</h3>
                        <textarea id="batchData" placeholder="每行一个数据值"></textarea>
                        <div class="batch-controls">
                            <button onclick="applyBatchData('${chartType}')">应用</button>
                            <button onclick="closeBatchEditor()">取消</button>
                        </div>
                    </div>
                </div>
            `;
            document.body.appendChild(editor);
        }

        function applyBatchData(chartType) {
            const batchData = document.getElementById('batchData').value;
            const dataInput = document.querySelector(`#${chartType}Data`);
            if (dataInput) {
                const formattedData = batchData.split('
')
                    .map(line => line.trim())
                    .filter(line => line)
                    .join(', ');
                dataInput.value = formattedData;
                validateInput(dataInput);
            }
            closeBatchEditor();
        }

        function closeBatchEditor() {
            const editor = document.querySelector('.batch-editor');
            if (editor) {
                editor.remove();
            }
        }
    </script>

    <style>
        /* 批量编辑器样式 */
        .batch-editor-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }

        .batch-editor-content {
            background: white;
            padding: 30px;
            border-radius: 10px;
            width: 500px;
            max-width: 90%;
        }

        .batch-editor-content textarea {
            width: 100%;
            height: 200px;
            margin: 15px 0;
        }

        .batch-controls {
            display: flex;
            gap: 10px;
            justify-content: flex-end;
        }
    </style>
</body>
</html>