<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ•°æ®å¯è§†åŒ–äº¤äº’å±•ç¤º - ç¬¬2ç« å®Œæ•´å®ç°</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            min-height: 100vh;
            color: #333;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .header {
            text-align: center;
            margin-bottom: 30px;
            color: white;
        }
        
        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        
        .header p {
            font-size: 1.2rem;
            opacity: 0.9;
        }
        
        .theme-selector {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 30px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
            backdrop-filter: blur(10px);
        }
        
        .theme-selector h3 {
            margin-bottom: 15px;
            color: #4a5568;
        }
        
        .theme-buttons {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }
        
        .theme-btn {
            padding: 10px 20px;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
            background: #f7fafc;
            color: #4a5568;
            border: 2px solid #e2e8f0;
        }
        
        .theme-btn.active {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }
        
        .tabs-container {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
            backdrop-filter: blur(10px);
        }
        
        .tabs {
            display: flex;
            background: #f8fafc;
            border-bottom: 1px solid #e2e8f0;
            overflow-x: auto;
        }
        
        .tab-btn {
            padding: 15px 25px;
            border: none;
            background: transparent;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
            color: #4a5568;
            white-space: nowrap;
            border-bottom: 3px solid transparent;
        }
        
        .tab-btn.active {
            background: white;
            color: #2d3748;
            border-bottom-color: #2d3748;
        }
        
        .tab-content {
            display: none;
            padding: 30px;
            min-height: 600px;
        }
        
        .tab-content.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .chart-section {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 30px;
            align-items: start;
        }
        
        .chart-container {
            background: white;
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.05);
            border: 1px solid #e2e8f0;
        }
        
        .chart-title {
            font-size: 1.4rem;
            margin-bottom: 20px;
            color: #2d3748;
            border-left: 4px solid #2d3748;
            padding-left: 15px;
        }
        
        .chart {
            width: 100%;
            height: 500px;
            border-radius: 8px;
            background: #f8fafc;
        }
        
        .controls {
            background: #f8fafc;
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.05);
            border: 1px solid #e2e8f0;
        }
        
        .control-group {
            margin-bottom: 20px;
        }
        
        .control-group h4 {
            margin-bottom: 10px;
            color: #2d3748;
            font-size: 1.1rem;
        }
        
        .data-input {
            width: 100%;
            padding: 12px;
            border: 1px solid #e2e8f0;
            border-radius: 6px;
            font-family: monospace;
            font-size: 14px;
            resize: vertical;
            min-height: 80px;
        }
        
        .data-input:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }
        
        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            background: #2d3748;
            color: white;
        }
        
        .btn:hover {
            background: #4a5568;
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(45, 55, 72, 0.3);
        }
        
        .btn:active {
            transform: translateY(0);
        }
        
        .description {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            margin-top: 15px;
            font-size: 0.9rem;
            color: #2d3748;
            line-height: 1.5;
        }
        
        @media (max-width: 1024px) {
            .chart-section {
                grid-template-columns: 1fr;
            }
            
            .chart {
                height: 400px;
            }
            
            .header h1 {
                font-size: 2rem;
            }
        }
        
        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
            .tab-content {
                padding: 20px;
            }
            
            .chart {
                height: 300px;
            }
            
            .theme-buttons {
                justify-content: center;
            }
        }
    </style>
    <script src="https://cdn.jsdelivr.net/npm/echarts@5.4.3/dist/echarts.min.js"></script>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ“Š æ•°æ®å¯è§†åŒ–äº¤äº’å±•ç¤º</h1>
            <p>åŸºäºç¬¬2ç« å†…å®¹çš„å®Œæ•´å¯è§†åŒ–å®ç°</p>
        </div>
        
        <div class="theme-selector">
            <h3>ğŸ¨ é€‰æ‹©ä¸»é¢˜é…è‰²</h3>
            <div class="theme-buttons">
                <button class="theme-btn active" onclick="changeTheme('default')">é»˜è®¤ä¸»é¢˜</button>
                <button class="theme-btn" onclick="changeTheme('dark')">æ·±è‰²ä¸»é¢˜</button>
                <button class="theme-btn" onclick="changeTheme('blue')">è“è‰²ä¸»é¢˜</button>
                <button class="theme-btn" onclick="changeTheme('green')">ç»¿è‰²ä¸»é¢˜</button>
                <button class="theme-btn" onclick="changeTheme('purple')">ç´«è‰²ä¸»é¢˜</button>
            </div>
        </div>
        
        <div class="tabs-container">
            <div class="tabs">
                <button class="tab-btn active" onclick="openTab('line')">ğŸ“ˆ æŠ˜çº¿å›¾</button>
                <button class="tab-btn" onclick="openTab('bar')">ğŸ“Š æŸ±å½¢å›¾</button>
                <button class="tab-btn" onclick="openTab('horizontal-bar')">ğŸ“‹ æ¡å½¢å›¾</button>
                <button class="tab-btn" onclick="openTab('area')">ğŸ”º é¢ç§¯å›¾</button>
                <button class="tab-btn" onclick="openTab('histogram')">ğŸ“ ç›´æ–¹å›¾</button>
                <button class="tab-btn" onclick="openTab('pie')">ğŸ¥§ é¥¼å›¾</button>
                <button class="tab-btn" onclick="openTab('scatter')">ğŸ”µ æ•£ç‚¹å›¾</button>
                <button class="tab-btn" onclick="openTab('box')">ğŸ“¦ ç®±å½¢å›¾</button>
                <button class="tab-btn" onclick="openTab('radar')">ğŸ¯ é›·è¾¾å›¾</button>
                <button class="tab-btn" onclick="openTab('errorbar')">ğŸ“ è¯¯å·®æ£’å›¾</button>
            </div>
            
            <!-- æŠ˜çº¿å›¾ -->
            <div id="line" class="tab-content active">
                <div class="chart-section">
                    <div class="chart-container">
                        <h3 class="chart-title">æœªæ¥15å¤©æœ€é«˜æ°”æ¸©å’Œæœ€ä½æ°”æ¸©</h3>
                        <div id="lineChart" class="chart"></div>
                    </div>
                    <div class="controls">
                        <div class="control-group">
                            <h4>æœ€é«˜æ°”æ¸©æ•°æ®</h4>
                            <textarea class="data-input" id="lineMaxData">32,33,34,34,33,31,30,29,30,29,26,23,21,25,31</textarea>
                        </div>
                        <div class="control-group">
                            <h4>æœ€ä½æ°”æ¸©æ•°æ®</h4>
                            <textarea class="data-input" id="lineMinData">19,19,20,22,22,21,22,16,18,18,17,14,15,16,16</textarea>
                        </div>
                        <button class="btn" onclick="updateLineChart()">æ›´æ–°å›¾è¡¨</button>
                        <div class="description">
                            <strong>è¯´æ˜ï¼š</strong> æŠ˜çº¿å›¾ç”¨äºæ˜¾ç¤ºæ•°æ®éšæ—¶é—´æˆ–å…¶ä»–è¿ç»­å˜é‡çš„å˜åŒ–è¶‹åŠ¿ã€‚å¯ä»¥åŒæ—¶æ˜¾ç¤ºå¤šæ¡æŠ˜çº¿è¿›è¡Œæ¯”è¾ƒåˆ†æã€‚
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- æŸ±å½¢å›¾ -->
            <div id="bar" class="tab-content">
                <div class="chart-section">
                    <div class="chart-container">
                        <h3 class="chart-title">2013-2019è´¢å¹´é˜¿é‡Œå·´å·´GMV</h3>
                        <div id="barChart" class="chart"></div>
                    </div>
                    <div class="controls">
                        <div class="control-group">
                            <h4>GMVæ•°æ®ï¼ˆäº¿å…ƒï¼‰</h4>
                            <textarea class="data-input" id="barData">10770,16780,24440,30920,37670,48200,57270</textarea>
                        </div>
                        <button class="btn" onclick="updateBarChart()">æ›´æ–°å›¾è¡¨</button>
                        <div class="description">
                            <strong>è¯´æ˜ï¼š</strong> æŸ±å½¢å›¾ç”¨äºæ¯”è¾ƒä¸åŒç±»åˆ«çš„æ•°å€¼å¤§å°ã€‚é€‚åˆå±•ç¤ºç¦»æ•£æ•°æ®çš„å¯¹æ¯”å…³ç³»ã€‚
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- æ¡å½¢å›¾ -->
            <div id="horizontal-bar" class="tab-content">
                <div class="chart-section">
                    <div class="chart-container">
                        <h3 class="chart-title">å„å•†å“ç§ç±»çš„ç½‘è´­æ›¿ä»£ç‡</h3>
                        <div id="horizontalBarChart" class="chart"></div>
                    </div>
                    <div class="controls">
                        <div class="control-group">
                            <h4>æ›¿ä»£ç‡æ•°æ®</h4>
                            <textarea class="data-input" id="barhData">0.959,0.951,0.935,0.924,0.893,0.892,0.865,0.863,0.860,0.856,0.854,0.835,0.826,0.816,0.798,0.765,0.763,0.67</textarea>
                        </div>
                        <button class="btn" onclick="updateHorizontalBarChart()">æ›´æ–°å›¾è¡¨</button>
                        <div class="description">
                            <strong>è¯´æ˜ï¼š</strong> æ¡å½¢å›¾æ˜¯æŸ±å½¢å›¾çš„æ¨ªå‘ç‰ˆæœ¬ï¼Œç‰¹åˆ«é€‚åˆç±»åˆ«åç§°è¾ƒé•¿æˆ–ç±»åˆ«æ•°é‡è¾ƒå¤šçš„æƒ…å†µã€‚
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- å †ç§¯é¢ç§¯å›¾ -->
            <div id="area" class="tab-content">
                <div class="chart-section">
                    <div class="chart-container">
                        <h3 class="chart-title">ç‰©æµå…¬å¸è´¹ç”¨è¶‹åŠ¿å›¾</h3>
                        <div id="areaChart" class="chart"></div>
                    </div>
                    <div class="controls">
                        <div class="control-group">
                            <h4>å…¬å¸Aè´¹ç”¨</h4>
                            <textarea class="data-input" id="areaData1">198,215,245,222,200,236,201,253,236,200,266,290</textarea>
                        </div>
                        <div class="control-group">
                            <h4>å…¬å¸Bè´¹ç”¨</h4>
                            <textarea class="data-input" id="areaData2">203,236,200,236,269,216,298,333,301,349,360,368</textarea>
                        </div>
                        <div class="control-group">
                            <h4>å…¬å¸Cè´¹ç”¨</h4>
                            <textarea class="data-input" id="areaData3">185,205,226,199,238,200,250,209,246,219,253,288</textarea>
                        </div>
                        <button class="btn" onclick="updateAreaChart()">æ›´æ–°å›¾è¡¨</button>
                        <div class="description">
                            <strong>è¯´æ˜ï¼š</strong> å †ç§¯é¢ç§¯å›¾æ˜¾ç¤ºå„éƒ¨åˆ†æ•°æ®éšæ—¶é—´çš„å˜åŒ–è¶‹åŠ¿ï¼ŒåŒæ—¶å±•ç¤ºæ€»é‡çš„å˜åŒ–å’Œå„éƒ¨åˆ†çš„å æ¯”å…³ç³»ã€‚
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- ç›´æ–¹å›¾ -->
            <div id="histogram" class="tab-content">
                <div class="chart-section">
                    <div class="chart-container">
                        <h3 class="chart-title">äººè„¸è¯†åˆ«çš„ç°åº¦ç›´æ–¹å›¾</h3>
                        <div id="histogramChart" class="chart"></div>
                    </div>
                    <div class="controls">
                        <div class="control-group">
                            <h4>éšæœºæ•°æ®ï¼ˆ10000ä¸ªç‚¹ï¼‰</h4>
                            <textarea class="data-input" id="histogramData" readonly>æ­£æ€åˆ†å¸ƒéšæœºæ•°æ®ï¼Œè‡ªåŠ¨ç”Ÿæˆ</textarea>
                        </div>
                        <div class="control-group">
                            <h4>åˆ†ç»„æ•°é‡</h4>
                            <input type="number" class="data-input" id="binsCount" value="25" min="5" max="50">
                        </div>
                        <button class="btn" onclick="updateHistogramChart()">é‡æ–°ç”Ÿæˆ</button>
                        <div class="description">
                            <strong>è¯´æ˜ï¼š</strong> ç›´æ–¹å›¾ç”¨äºå±•ç¤ºæ•°æ®çš„åˆ†å¸ƒæƒ…å†µï¼Œæ˜¾ç¤ºæ•°æ®åœ¨ä¸åŒåŒºé—´å†…çš„é¢‘ç‡åˆ†å¸ƒã€‚
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- é¥¼å›¾ -->
            <div id="pie" class="tab-content">
                <div class="chart-section">
                    <div class="chart-container">
                        <h3 class="chart-title">æ”¯ä»˜å®æœˆè´¦å•æŠ¥å‘Š</h3>
                        <div id="pieChart" class="chart"></div>
                    </div>
                    <div class="controls">
                        <div class="control-group">
                            <h4>æ¶ˆè´¹ç±»åˆ«å æ¯”</h4>
                            <textarea class="data-input" id="pieData">800,100,1000,200,300,200,200,200</textarea>
                        </div>
                        <button class="btn" onclick="updatePieChart()">æ›´æ–°å›¾è¡¨</button>
                        <div class="description">
                            <strong>è¯´æ˜ï¼š</strong> é¥¼å›¾ç”¨äºæ˜¾ç¤ºå„éƒ¨åˆ†å æ€»ä½“çš„æ¯”ä¾‹å…³ç³»ï¼Œé€‚åˆå±•ç¤ºåˆ†ç±»æ•°æ®çš„å æ¯”æƒ…å†µã€‚
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- æ•£ç‚¹å›¾ -->
            <div id="scatter" class="tab-content">
                <div class="chart-section">
                    <div class="chart-container">
                        <h3 class="chart-title">æ±½è½¦é€Ÿåº¦ä¸åˆ¶åŠ¨è·ç¦»çš„å…³ç³»</h3>
                        <div id="scatterChart" class="chart"></div>
                    </div>
                    <div class="controls">
                        <div class="control-group">
                            <h4>é€Ÿåº¦æ•°æ®ï¼ˆkm/hï¼‰</h4>
                            <textarea class="data-input" id="scatterX">10,20,30,40,50,60,70,80,90,100,110,120,130,140,150,160,170,180,190,200</textarea>
                        </div>
                        <div class="control-group">
                            <h4>åˆ¶åŠ¨è·ç¦»ï¼ˆç±³ï¼‰</h4>
                            <textarea class="data-input" id="scatterY">0.5,2.0,4.4,7.9,12.3,17.7,24.1,31.5,39.9,49.2,59.5,70.8,83.1,96.4,110.7,126.0,142.2,159.4,177.6,196.8</textarea>
                        </div>
                        <button class="btn" onclick="updateScatterChart()">æ›´æ–°å›¾è¡¨</button>
                        <div class="description">
                            <strong>è¯´æ˜ï¼š</strong> æ•£ç‚¹å›¾ç”¨äºå±•ç¤ºä¸¤ä¸ªå˜é‡ä¹‹é—´çš„å…³ç³»ï¼Œå¯ä»¥è§‚å¯Ÿå˜é‡ä¹‹é—´çš„ç›¸å…³æ€§æˆ–åˆ†å¸ƒæ¨¡å¼ã€‚
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- ç®±å½¢å›¾ -->
            <div id="box" class="tab-content">
                <div class="chart-section">
                    <div class="chart-container">
                        <h3 class="chart-title">2017å¹´å’Œ2018å¹´å…¨å›½å‘ç”µé‡ç»Ÿè®¡</h3>
                        <div id="boxChart" class="chart"></div>
                    </div>
                    <div class="controls">
                        <div class="control-group">
                            <h4>2018å¹´å‘ç”µé‡</h4>
                            <textarea class="data-input" id="boxData2018">5200,5254.5,5283.4,5107.8,5443.3,5550.6,6400.2,6404.9,5483.1,5330.2,5543,6199.9</textarea>
                        </div>
                        <div class="control-group">
                            <h4>2017å¹´å‘ç”µé‡</h4>
                            <textarea class="data-input" id="boxData2017">4605.2,4710.3,5168.9,4767.2,4947,5203,6047.4,5945.5,5219.6,5038.1,5196.3,5698.6</textarea>
                        </div>
                        <button class="btn" onclick="updateBoxChart()">æ›´æ–°å›¾è¡¨</button>
                        <div class="description">
                            <strong>è¯´æ˜ï¼š</strong> ç®±å½¢å›¾å±•ç¤ºæ•°æ®çš„åˆ†å¸ƒæƒ…å†µï¼ŒåŒ…æ‹¬ä¸­ä½æ•°ã€å››åˆ†ä½æ•°ã€å¼‚å¸¸å€¼ç­‰ç»Ÿè®¡ä¿¡æ¯ã€‚
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- é›·è¾¾å›¾ -->
            <div id="radar" class="tab-content">
                <div class="chart-section">
                    <div class="chart-container">
                        <h3 class="chart-title">éœå…°å¾·èŒä¸šå…´è¶£æµ‹è¯•</h3>
                        <div id="radarChart" class="chart"></div>
                    </div>
                    <div class="controls">
                        <div class="control-group">
                            <h4>ç ”ç©¶å‹(I)æ•°æ®</h4>
                            <textarea class="data-input" id="radarData1">0.40,0.85,0.43,0.30,0.20,0.34</textarea>
                        </div>
                        <div class="control-group">
                            <h4>è‰ºæœ¯å‹(A)æ•°æ®</h4>
                            <textarea class="data-input" id="radarData2">0.32,0.35,0.89,0.25,0.38,0.31</textarea>
                        </div>
                        <div class="control-group">
                            <h4>ç¤¾ä¼šå‹(S)æ•°æ®</h4>
                            <textarea class="data-input" id="radarData3">0.35,0.30,0.30,0.48,0.87,0.38</textarea>
                        </div>
                        <div class="control-group">
                            <h4>ä¼ä¸šå‹(E)æ•°æ®</h4>
                            <textarea class="data-input" id="radarData4">0.30,0.40,0.28,0.85,0.45,0.40</textarea>
                        </div>
                        <div class="control-group">
                            <h4>ä¼ ç»Ÿå‹(C)æ•°æ®</h4>
                            <textarea class="data-input" id="radarData5">0.30,0.40,0.22,0.45,0.32,0.92</textarea>
                        </div>
                        <div class="control-group">
                            <h4>ç°å®å‹(R)æ•°æ®</h4>
                            <textarea class="data-input" id="radarData6">0.88,0.30,0.30,0.40,0.28,0.28</textarea>
                        </div>
                        <button class="btn" onclick="updateRadarChart()">æ›´æ–°å›¾è¡¨</button>
                        <div class="description">
                            <strong>è¯´æ˜ï¼š</strong> é›·è¾¾å›¾ç”¨äºå±•ç¤ºå¤šç»´åº¦æ•°æ®ï¼Œé€‚åˆæ¯”è¾ƒå¤šä¸ªå¯¹è±¡åœ¨å¤šä¸ªç»´åº¦ä¸Šçš„è¡¨ç°ã€‚
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- è¯¯å·®æ£’å›¾ -->
            <div id="errorbar" class="tab-content">
                <div class="chart-section">
                    <div class="chart-container">
                        <h3 class="chart-title">4ä¸ªæ ‘ç§ä¸åŒå­£èŠ‚çš„ç»†æ ¹ç”Ÿç‰©é‡</h3>
                        <div id="errorbarChart" class="chart"></div>
                    </div>
                    <div class="controls">
                        <div class="control-group">
                            <h4>æ ‘ç§Aæ•°æ®ï¼ˆæ˜¥å­£,å¤å­£,ç§‹å­£ï¼‰</h4>
                            <textarea class="data-input" id="errorbarSpeciesA">2.04,1.57,1.63</textarea>
                        </div>
                        <div class="control-group">
                            <h4>æ ‘ç§Bæ•°æ®ï¼ˆæ˜¥å­£,å¤å­£,ç§‹å­£ï¼‰</h4>
                            <textarea class="data-input" id="errorbarSpeciesB">1.69,1.61,1.64</textarea>
                        </div>
                        <div class="control-group">
                            <h4>æ ‘ç§Cæ•°æ®ï¼ˆæ˜¥å­£,å¤å­£,ç§‹å­£ï¼‰</h4>
                            <textarea class="data-input" id="errorbarSpeciesC">4.65,4.99,4.94</textarea>
                        </div>
                        <div class="control-group">
                            <h4>æ ‘ç§Dæ•°æ®ï¼ˆæ˜¥å­£,å¤å­£,ç§‹å­£ï¼‰</h4>
                            <textarea class="data-input" id="errorbarSpeciesD">3.39,2.33,4.10</textarea>
                        </div>
                        <div class="control-group">
                            <h4>æ ‘ç§Aè¯¯å·®ï¼ˆæ˜¥å­£,å¤å­£,ç§‹å­£ï¼‰</h4>
                            <textarea class="data-input" id="errorbarErrorA">0.16,0.08,0.10</textarea>
                        </div>
                        <div class="control-group">
                            <h4>æ ‘ç§Bè¯¯å·®ï¼ˆæ˜¥å­£,å¤å­£,ç§‹å­£ï¼‰</h4>
                            <textarea class="data-input" id="errorbarErrorB">0.27,0.14,0.14</textarea>
                        </div>
                        <div class="control-group">
                            <h4>æ ‘ç§Cè¯¯å·®ï¼ˆæ˜¥å­£,å¤å­£,ç§‹å­£ï¼‰</h4>
                            <textarea class="data-input" id="errorbarErrorC">0.34,0.32,0.29</textarea>
                        </div>
                        <div class="control-group">
                            <h4>æ ‘ç§Dè¯¯å·®ï¼ˆæ˜¥å­£,å¤å­£,ç§‹å­£ï¼‰</h4>
                            <textarea class="data-input" id="errorbarErrorD">0.23,0.23,0.39</textarea>
                        </div>
                        <button class="btn" onclick="updateErrorbarChart()">æ›´æ–°å›¾è¡¨</button>
                        <div class="description">
                            <strong>è¯´æ˜ï¼š</strong> è¯¯å·®æ£’å›¾å±•ç¤ºæ•°æ®çš„å¹³å‡å€¼å’Œå˜å¼‚ç¨‹åº¦ï¼Œç”¨äºè¡¨ç¤ºæµ‹é‡çš„ä¸ç¡®å®šæ€§ã€‚
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // ä¸»é¢˜é…ç½®
        const themes = {
            default: {
                primary: '#667eea',
                secondary: '#764ba2',
                background: 'linear-gradient(135deg, #FFF8DC 0%, #FDF5E6 100%)',
                chartColors: ['#FF6B6B', '#4ECDC4', '#45B7D1', '#96CEB4', '#FECA57', '#FF9FF3', '#54A0FF', '#5f27cd']
            },
            dark: {
                primary: '#805AD5',
                secondary: '#6B46C1',
                background: 'linear-gradient(135deg, #2D3748 0%, #4A5568 100%)',
                chartColors: ['#63B3ED', '#68D391', '#FBB6CE', '#FED7D7', '#BEE3F8', '#C6F6D5', '#E9D8FD', '#9AE6B4']
            },
            blue: {
                primary: '#3182CE',
                secondary: '#2C5AA0',
                background: 'linear-gradient(135deg, #3182CE 0%, #2C5AA0 100%)',
                chartColors: ['#4299E1', '#48BB78', '#ED8936', '#9F7AEA', '#F56565', '#38B2AC', '#ECC94B', '#667EEA']
            },
            green: {
                primary: '#38A169',
                secondary: '#2F855A',
                background: 'linear-gradient(135deg, #38A169 0%, #2F855A 100%)',
                chartColors: ['#48BB78', '#4299E1', '#ED8936', '#9F7AEA', '#F56565', '#38B2AC', '#ECC94B', '#68D391']
            },
            purple: {
                primary: '#805AD5',
                secondary: '#6B46C1',
                background: 'linear-gradient(135deg, #805AD5 0%, #6B46C1 100%)',
                chartColors: ['#9F7AEA', '#4299E1', '#48BB78', '#ED8936', '#F56565', '#38B2AC', '#ECC94B', '#B794F4']
            }
        };

        let currentTheme = 'default';
        let charts = {};

        // åˆå§‹åŒ–æ‰€æœ‰å›¾è¡¨
        function initCharts() {
            if (typeof echarts === 'undefined') {
                console.error('EChartsåº“åŠ è½½å¤±è´¥');
                return;
            }

            // åˆå§‹åŒ–æ‰€æœ‰å›¾è¡¨å®ä¾‹
            const chartIds = [
                'lineChart', 'barChart', 'horizontalBarChart', 'areaChart',
                'histogramChart', 'pieChart', 'scatterChart', 'boxChart',
                'radarChart', 'errorbarChart'
            ];

            chartIds.forEach(id => {
                charts[id] = echarts.init(document.getElementById(id));
            });

            // è®¾ç½®åˆå§‹å›¾è¡¨æ•°æ®
            updateAllCharts();
        }

        // æ›´æ–°æ‰€æœ‰å›¾è¡¨
        function updateAllCharts() {
            updateLineChart();
            updateBarChart();
            updateHorizontalBarChart();
            updateAreaChart();
            updateHistogramChart();
            updatePieChart();
            updateScatterChart();
            updateBoxChart();
            updateRadarChart();
            updateErrorbarChart();
        }

        // ä¸»é¢˜åˆ‡æ¢
        function changeTheme(theme) {
            currentTheme = theme;
            const colors = themes[theme];
            
            // æ›´æ–°ä¸»é¢˜æŒ‰é’®çŠ¶æ€
            document.querySelectorAll('.theme-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            
            // æ›´æ–°é¡µé¢æ ·å¼
            document.body.style.background = colors.background;
            document.querySelectorAll('.btn').forEach(btn => {
                btn.style.background = colors.primary;
            });
            
            // æ›´æ–°å›¾è¡¨ä¸»é¢˜
            updateAllCharts();
        }

        // æ ‡ç­¾é¡µåˆ‡æ¢
        function openTab(tabName) {
            // éšè—æ‰€æœ‰æ ‡ç­¾å†…å®¹
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // ç§»é™¤æ‰€æœ‰æ ‡ç­¾æŒ‰é’®çš„æ¿€æ´»çŠ¶æ€
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // æ˜¾ç¤ºé€‰ä¸­çš„æ ‡ç­¾å†…å®¹
            document.getElementById(tabName).classList.add('active');
            event.currentTarget.classList.add('active');
            
            // è°ƒæ•´å›¾è¡¨å¤§å°
            setTimeout(() => {
                Object.values(charts).forEach(chart => {
                    if (chart) chart.resize();
                });
            }, 100);
        }

        // å„ä¸ªå›¾è¡¨çš„æ›´æ–°å‡½æ•°
        function updateLineChart() {
            const maxData = document.getElementById('lineMaxData').value.split(',').map(Number);
            const minData = document.getElementById('lineMinData').value.split(',').map(Number);
            const xData = Array.from({length: maxData.length}, (_, i) => i + 1);
            
            charts.lineChart.setOption({
                color: [themes[currentTheme].chartColors[0], themes[currentTheme].chartColors[1]],
                title: { text: 'æœªæ¥15å¤©æœ€é«˜æ°”æ¸©å’Œæœ€ä½æ°”æ¸©', left: 'center' },
                tooltip: { trigger: 'axis' },
                legend: { data: ['æœ€é«˜æ°”æ¸©', 'æœ€ä½æ°”æ¸©'], top: 30 },
                grid: { top: 80, bottom: 30 },
                xAxis: {
                    type: 'category',
                    data: xData,
                    name: 'å¤©æ•°'
                },
                yAxis: {
                    type: 'value',
                    name: 'æ¸©åº¦ (Â°C)'
                },
                series: [
                    {
                        name: 'æœ€é«˜æ°”æ¸©',
                        type: 'line',
                        data: maxData,
                        smooth: true,
                        lineStyle: { width: 3 }
                    },
                    {
                        name: 'æœ€ä½æ°”æ¸©',
                        type: 'line',
                        data: minData,
                        smooth: true,
                        lineStyle: { width: 3 }
                    }
                ]
            });
        }

        function updateBarChart() {
            const data = document.getElementById('barData').value.split(',').map(Number);
            const labels = ["2013", "2014", "2015", "2016", "2017", "2018", "2019"];
            
            charts.barChart.setOption({
                color: themes[currentTheme].chartColors[0],
                title: { text: '2013-2019è´¢å¹´é˜¿é‡Œå·´å·´GMV', left: 'center' },
                tooltip: { trigger: 'axis' },
                grid: { top: 60, bottom: 30 },
                xAxis: {
                    type: 'category',
                    data: labels,
                    name: 'å¹´ä»½'
                },
                yAxis: {
                    type: 'value',
                    name: 'GMV (äº¿å…ƒ)'
                },
                series: [{
                    type: 'bar',
                    data: data,
                    itemStyle: {
                        borderRadius: [4, 4, 0, 0]
                    }
                }]
            });
        }

        // æ¡å½¢å›¾æ›´æ–°å‡½æ•°
        function updateHorizontalBarChart() {
            const data = document.getElementById('barhData').value.split(',').map(Number);
            const labels = [
                "å®¶æ”¿ã€å®¶æ•™ã€ä¿å§†ç­‰ç”Ÿæ´»æœåŠ¡", "é£æœºç¥¨ã€ç«è½¦ç¥¨", "å®¶å…·", "æ‰‹æœºã€æ‰‹æœºé…ä»¶",
                "è®¡ç®—æœºåŠå…¶é…å¥—äº§å“", "æ±½è½¦ç”¨å“", "é€šä¿¡å……å€¼ã€æ¸¸æˆå……å€¼", "ä¸ªäººæŠ¤ç†ç”¨å“",
                "ä¹¦æŠ¥æ‚å¿—åŠéŸ³åƒåˆ¶å“", "é¤é¥®ã€æ—…æ¸¸ã€ä½å®¿", "å®¶ç”¨ç”µå™¨",
                "é£Ÿå“ã€é¥®æ–™ã€çƒŸé…’ã€ä¿å¥å“", "å®¶åº­æ—¥æ‚ç”¨å“", "ä¿é™©ã€æ¼”å‡ºç¥¨åŠ¡",
                "æœè£…ã€é‹å¸½ã€å®¶ç”¨çººç»‡å“", "æ•°ç äº§å“", "å…¶ä»–å•†å“å’ŒæœåŠ¡", "å·¥è‰ºå“ã€æ”¶è—å“"
            ];
            
            charts.horizontalBarChart.setOption({
                color: themes[currentTheme].chartColors[0],
                title: { text: 'å„å•†å“ç§ç±»çš„ç½‘è´­æ›¿ä»£ç‡', left: 'center' },
                tooltip: { trigger: 'axis', axisPointer: { type: 'shadow' } },
                grid: { left: '20%', right: '10%', bottom: '15%' },
                xAxis: {
                    type: 'value',
                    name: 'æ›¿ä»£ç‡',
                    min: 0,
                    max: 1
                },
                yAxis: {
                    type: 'category',
                    data: labels,
                    axisLabel: { interval: 0, rotate: 30 }
                },
                series: [{
                    type: 'bar',
                    data: data,
                    label: { show: true, position: 'right', formatter: '{c}' }
                }]
            });
        }

        // é¢ç§¯å›¾æ›´æ–°å‡½æ•°
        function updateAreaChart() {
            const data1 = document.getElementById('areaData1').value.split(',').map(Number);
            const data2 = document.getElementById('areaData2').value.split(',').map(Number);
            const data3 = document.getElementById('areaData3').value.split(',').map(Number);
            const xData = Array.from({length: 12}, (_, i) => i + 1);
            
            charts.areaChart.setOption({
                color: themes[currentTheme].chartColors.slice(0, 3),
                title: { text: 'ç‰©æµå…¬å¸ç‰©æµè´¹ç”¨ç»Ÿè®¡', left: 'center' },
                tooltip: { trigger: 'axis' },
                legend: { data: ['å…¬å¸A', 'å…¬å¸B', 'å…¬å¸C'], top: 30 },
                grid: { top: 80, bottom: 30 },
                xAxis: {
                    type: 'category',
                    boundaryGap: false,
                    data: xData,
                    name: 'æœˆä»½'
                },
                yAxis: {
                    type: 'value',
                    name: 'è´¹ç”¨'
                },
                series: [
                    {
                        name: 'å…¬å¸A',
                        type: 'line',
                        stack: 'æ€»é‡',
                        areaStyle: {},
                        data: data1
                    },
                    {
                        name: 'å…¬å¸B',
                        type: 'line',
                        stack: 'æ€»é‡',
                        areaStyle: {},
                        data: data2
                    },
                    {
                        name: 'å…¬å¸C',
                        type: 'line',
                        stack: 'æ€»é‡',
                        areaStyle: {},
                        data: data3
                    }
                ]
            });
        }

        // ç›´æ–¹å›¾æ›´æ–°å‡½æ•°
        function updateHistogramChart() {
            const bins = parseInt(document.getElementById('binsCount').value) || 25;
            // ç”Ÿæˆæ­£æ€åˆ†å¸ƒéšæœºæ•°æ®
            const randomData = Array.from({length: 10000}, () => {
                let u = 0, v = 0;
                while(u === 0) u = Math.random();
                while(v === 0) v = Math.random();
                return Math.sqrt(-2.0 * Math.log(u)) * Math.cos(2.0 * Math.PI * v);
            });
            
            const histogramData = calculateHistogramData(randomData, bins, -4, 4);
            const binLabels = Array.from({length: bins}, (_, i) => {
                const binStart = -4 + (8 / bins) * i;
                const binEnd = binStart + (8 / bins);
                return `${binStart.toFixed(1)}-${binEnd.toFixed(1)}`;
            });
            
            charts.histogramChart.setOption({
                color: themes[currentTheme].chartColors[0],
                title: { text: 'äººè„¸è¯†åˆ«çš„ç°åº¦ç›´æ–¹å›¾', left: 'center' },
                tooltip: { 
                    trigger: 'axis',
                    formatter: function(params) {
                        const index = params[0].dataIndex;
                        return `${binLabels[index]}<br/>é¢‘ç‡: ${params[0].value}`;
                    }
                },
                grid: { top: 60, bottom: 30 },
                xAxis: {
                    type: 'category',
                    data: binLabels,
                    name: 'ç°åº¦å€¼åŒºé—´',
                    axisLabel: { rotate: 45 }
                },
                yAxis: {
                    type: 'value',
                    name: 'é¢‘ç‡'
                },
                series: [{
                    name: 'é¢‘ç‡åˆ†å¸ƒ',
                    type: 'bar',
                    data: histogramData,
                    barWidth: '80%'
                }]
            });
        }

        // è®¡ç®—ç›´æ–¹å›¾æ•°æ®
        function calculateHistogramData(data, bins, min, max) {
            const binSize = (max - min) / bins;
            const histogram = Array(bins).fill(0);
            
            data.forEach(value => {
                if (value >= min && value <= max) {
                    const binIndex = Math.floor((value - min) / binSize);
                    if (binIndex >= 0 && binIndex < bins) {
                        histogram[binIndex]++;
                    }
                }
            });
            
            return histogram;
        }

        // é¥¼å›¾æ›´æ–°å‡½æ•°
        function updatePieChart() {
            const data = document.getElementById('pieData').value.split(',').map(Number);
            const labels = ['è´­ç‰©', 'äººæƒ…å¾€æ¥', 'é¤é¥®ç¾é£Ÿ', 'é€šä¿¡ç‰©æµ', 'ç”Ÿæ´»æ—¥ç”¨', 'äº¤é€šå‡ºè¡Œ', 'ä¼‘é—²å¨±ä¹', 'å…¶ä»–'];
            
            charts.pieChart.setOption({
                color: themes[currentTheme].chartColors,
                title: { text: 'æ”¯ä»˜å®æœˆè´¦å•æŠ¥å‘Š', left: 'center' },
                tooltip: { trigger: 'item', formatter: '{a} <br/>{b}: {c} ({d}%)' },
                legend: {
                    orient: 'vertical',
                    left: 'left',
                    top: 'middle',
                    data: labels
                },
                series: [{
                    name: 'æ¶ˆè´¹ç±»åˆ«',
                    type: 'pie',
                    radius: ['30%', '70%'],
                    center: ['60%', '50%'],
                    data: labels.map((label, index) => ({
                        value: data[index],
                        name: label
                    })),
                    emphasis: {
                        itemStyle: {
                            shadowBlur: 10,
                            shadowOffsetX: 0,
                            shadowColor: 'rgba(0, 0, 0, 0.5)'
                        }
                    }
                }]
            });
        }

        // æ•£ç‚¹å›¾æ›´æ–°å‡½æ•°
        function updateScatterChart() {
            const xData = document.getElementById('scatterX').value.split(',').map(Number);
            const yData = document.getElementById('scatterY').value.split(',').map(Number);
            
            charts.scatterChart.setOption({
                color: themes[currentTheme].chartColors[0],
                title: { text: 'æ±½è½¦é€Ÿåº¦ä¸åˆ¶åŠ¨è·ç¦»çš„å…³ç³»', left: 'center' },
                tooltip: { trigger: 'item', formatter: 'é€Ÿåº¦: {c0} km/h<br>è·ç¦»: {c1} ç±³' },
                grid: { top: 60, bottom: 30 },
                xAxis: {
                    type: 'value',
                    name: 'é€Ÿåº¦ (km/h)'
                },
                yAxis: {
                    type: 'value',
                    name: 'åˆ¶åŠ¨è·ç¦» (ç±³)'
                },
                series: [{
                    type: 'scatter',
                    data: xData.map((x, i) => [x, yData[i]]),
                    symbolSize: 10
                }]
            });
        }

        // ç®±å½¢å›¾æ›´æ–°å‡½æ•°
        function updateBoxChart() {
            const data2018 = document.getElementById('boxData2018').value.split(',').map(Number);
            const data2017 = document.getElementById('boxData2017').value.split(',').map(Number);
            
            // å‡†å¤‡ç®±å‹å›¾æ•°æ®
            const boxplotData2018 = prepareBoxplotData(data2018);
            const boxplotData2017 = prepareBoxplotData(data2017);
            
            // ç»„åˆæ•°æ®ï¼šæ¯ä¸ªxè½´ä½ç½®å¯¹åº”ä¸€ä¸ªç®±å‹å›¾æ•°æ®
            const boxplotData = [boxplotData2018, boxplotData2017];
            
            charts.boxChart.setOption({
                color: [themes[currentTheme].chartColors[0], themes[currentTheme].chartColors[1]],
                title: { text: '2017å¹´å’Œ2018å¹´å…¨å›½å‘ç”µé‡ç»Ÿè®¡', left: 'center' },
                tooltip: { 
                    trigger: 'item',
                    formatter: function(params) {
                        const data = params.data;
                        const year = params.name === '2018å¹´' ? '2018å¹´' : '2017å¹´';
                        return `${year}<br/>
                                æœ€å°å€¼: ${data[1]}<br/>
                                ä¸‹å››åˆ†ä½æ•°: ${data[2]}<br/>
                                ä¸­ä½æ•°: ${data[3]}<br/>
                                ä¸Šå››åˆ†ä½æ•°: ${data[4]}<br/>
                                æœ€å¤§å€¼: ${data[5]}`;
                    }
                },
                legend: { data: ['2018å¹´', '2017å¹´'], top: 30 },
                grid: { top: 80, bottom: 30 },
                xAxis: {
                    type: 'category',
                    data: ['2018å¹´', '2017å¹´']
                },
                yAxis: {
                    type: 'value',
                    name: 'å‘ç”µé‡ (äº¿åƒç“¦æ—¶)'
                },
                series: [{
                    name: 'å‘ç”µé‡ç»Ÿè®¡',
                    type: 'boxplot',
                    data: boxplotData
                }]
            });
        }

        // å‡†å¤‡ç®±å½¢å›¾æ•°æ®ï¼ˆç¬¦åˆEChartsæ ¼å¼ï¼‰
        function prepareBoxplotData(data) {
            if (data.length === 0) return [0, 0, 0, 0, 0, 0];
            
            data.sort((a, b) => a - b);
            const min = Math.min(...data);
            const max = Math.max(...data);
            
            // è®¡ç®—å››åˆ†ä½æ•°ï¼ˆä½¿ç”¨çº¿æ€§æ’å€¼æ³•ï¼‰
            const q1 = calculateQuantile(data, 0.25);
            const median = calculateQuantile(data, 0.5);
            const q3 = calculateQuantile(data, 0.75);
            
            // ECharts boxplotæ•°æ®æ ¼å¼ï¼š[min, Q1, median, Q3, max]
            return [min, q1, median, q3, max];
        }

        // è®¡ç®—åˆ†ä½æ•°ï¼ˆçº¿æ€§æ’å€¼æ³•ï¼‰
        function calculateQuantile(data, p) {
            if (data.length === 0) return 0;
            if (p <= 0) return data[0];
            if (p >= 1) return data[data.length - 1];
            
            const index = p * (data.length - 1);
            const lowerIndex = Math.floor(index);
            const upperIndex = Math.ceil(index);
            
            if (lowerIndex === upperIndex) {
                return data[lowerIndex];
            }
            
            // çº¿æ€§æ’å€¼
            const weight = index - lowerIndex;
            return data[lowerIndex] * (1 - weight) + data[upperIndex] * weight;
        }

        // é›·è¾¾å›¾æ›´æ–°å‡½æ•°
        function updateRadarChart() {
            // è·å–æ¯ä¸ªç»´åº¦çš„æ•°æ®
            const data1 = document.getElementById('radarData1').value.split(',').map(Number);
            const data2 = document.getElementById('radarData2').value.split(',').map(Number);
            const data3 = document.getElementById('radarData3').value.split(',').map(Number);
            const data4 = document.getElementById('radarData4').value.split(',').map(Number);
            const data5 = document.getElementById('radarData5').value.split(',').map(Number);
            const data6 = document.getElementById('radarData6').value.split(',').map(Number);
            
            const indicators = ['ç ”ç©¶å‹(I)', 'è‰ºæœ¯å‹(A)', 'ç¤¾ä¼šå‹(S)', 'ä¼ä¸šå‹(E)', 'ä¼ ç»Ÿå‹(C)', 'ç°å®å‹(R)'];
            const testersCount = Math.max(data1.length, data2.length, data3.length, data4.length, data5.length, data6.length);
            
            // é‡æ–°ç»„ç»‡æ•°æ®ï¼šæ¯ä¸ªæµ‹è¯•è€…å¯¹åº”6ä¸ªç»´åº¦çš„æ•°æ®
            const validDataArrays = [];
            for (let i = 0; i < testersCount; i++) {
                const testerData = [
                    data1[i] || 0,
                    data2[i] || 0,
                    data3[i] || 0,
                    data4[i] || 0,
                    data5[i] || 0,
                    data6[i] || 0
                ];
                validDataArrays.push(testerData);
            }
            
            charts.radarChart.setOption({
                color: themes[currentTheme].chartColors.slice(0, validDataArrays.length),
                title: { text: 'éœå…°å¾·èŒä¸šå…´è¶£æµ‹è¯•', left: 'center' },
                tooltip: { trigger: 'item' },
                legend: {
                    data: validDataArrays.map((_, index) => `æµ‹è¯•è€…${index + 1}`),
                    top: 30,
                    right: 10
                },
                radar: {
                    shape: 'circle',
                    center: ['50%', '55%'],
                    radius: '60%',
                    indicator: indicators.map(indicator => ({ 
                        name: indicator, 
                        max: 1 
                    }))
                },
                series: [{
                    type: 'radar',
                    data: validDataArrays.map((data, index) => ({
                        value: data,
                        name: `æµ‹è¯•è€…${index + 1}`,
                        areaStyle: {},
                        lineStyle: {
                            width: 2
                        }
                    }))
                }]
            });
        }

        // è¯¯å·®æ£’å›¾æ›´æ–°å‡½æ•°
        function updateErrorbarChart() {
            // è·å–æ¯ä¸ªæ ‘ç§çš„æ•°æ®
            const speciesAData = document.getElementById('errorbarSpeciesA').value.split(',').map(Number);
            const speciesBData = document.getElementById('errorbarSpeciesB').value.split(',').map(Number);
            const speciesCData = document.getElementById('errorbarSpeciesC').value.split(',').map(Number);
            const speciesDData = document.getElementById('errorbarSpeciesD').value.split(',').map(Number);
            
            // è·å–æ¯ä¸ªæ ‘ç§çš„è¯¯å·®æ•°æ®
            const speciesAError = document.getElementById('errorbarErrorA').value.split(',').map(Number);
            const speciesBError = document.getElementById('errorbarErrorB').value.split(',').map(Number);
            const speciesCError = document.getElementById('errorbarErrorC').value.split(',').map(Number);
            const speciesDError = document.getElementById('errorbarErrorD').value.split(',').map(Number);
            
            const seasons = ['æ˜¥å­£', 'å¤å­£', 'ç§‹å­£'];
            const species = ['æ ‘ç§A', 'æ ‘ç§B', 'æ ‘ç§C', 'æ ‘ç§D'];
            const meansArrays = [speciesAData, speciesBData, speciesCData, speciesDData];
            const errorsArrays = [speciesAError, speciesBError, speciesCError, speciesDError];
            
            // å‡†å¤‡è¯¯å·®æ£’å›¾æ•°æ® - ä½¿ç”¨scatterç±»å‹é…åˆè‡ªå®šä¹‰è¯¯å·®çº¿
            const seriesData = meansArrays.map((means, index) => {
                const errorData = errorsArrays[index] || [0, 0, 0];
                
                return {
                    name: species[index],
                    type: 'scatter',
                    data: means.map((mean, i) => [i, mean]),
                    symbolSize: 12,
                    itemStyle: {
                        color: themes[currentTheme].chartColors[index]
                    }
                };
            });
            
            // æ·»åŠ è¯¯å·®çº¿ç³»åˆ—
            const errorLineSeries = meansArrays.map((means, index) => {
                const errorData = errorsArrays[index] || [0, 0, 0];
                
                return {
                    name: `${species[index]}è¯¯å·®çº¿`,
                    type: 'line',
                    data: [],
                    lineStyle: {
                        width: 0
                    },
                    markLine: {
                        symbol: ['none', 'none'],
                        lineStyle: {
                            type: 'solid',
                            color: themes[currentTheme].chartColors[index],
                            width: 2
                        },
                        data: means.map((mean, i) => {
                            const error = errorData[i] || 0;
                            return [
                                {
                                    coord: [i, mean - error],
                                    symbol: 'circle',
                                    symbolSize: 6
                                },
                                {
                                    coord: [i, mean + error],
                                    symbol: 'circle', 
                                    symbolSize: 6
                                }
                            ];
                        })
                    }
                };
            });
            
            charts.errorbarChart.setOption({
                color: themes[currentTheme].chartColors.slice(0, 4),
                title: { text: '4ä¸ªæ ‘ç§ä¸åŒå­£èŠ‚çš„ç»†æ ¹ç”Ÿç‰©é‡', left: 'center' },
                tooltip: { 
                    trigger: 'item',
                    formatter: function(params) {
                        const seriesIndex = species.indexOf(params.seriesName);
                        const dataIndex = params.dataIndex;
                        const mean = params.value[1];
                        const error = errorsArrays[seriesIndex] ? errorsArrays[seriesIndex][dataIndex] : 0;
                        return `${params.seriesName} - ${seasons[dataIndex]}<br/>
                                å¹³å‡å€¼: ${mean.toFixed(2)}<br/>
                                è¯¯å·®: Â±${error.toFixed(2)}`;
                    }
                },
                legend: { 
                    data: species,
                    top: 30
                },
                grid: { top: 80, bottom: 30 },
                xAxis: {
                    type: 'category',
                    data: seasons,
                    name: 'å­£èŠ‚'
                },
                yAxis: {
                    type: 'value',
                    name: 'ç”Ÿç‰©é‡ (g/mÂ²)',
                    min: 0
                },
                series: [...seriesData, ...errorLineSeries]
            });
        }

        // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            // å°è¯•åŠ è½½ECharts
            if (typeof echarts !== 'undefined') {
                initCharts();
            } else {
                // å¦‚æœCDNåŠ è½½å¤±è´¥ï¼Œä½¿ç”¨å¤‡ç”¨æ–¹æ¡ˆ
                const script = document.createElement('script');
                script.src = 'https://fastly.jsdelivr.net/npm/echarts@5.4.3/dist/echarts.min.js';
                script.onload = initCharts;
                document.head.appendChild(script);
            }
            
            // çª—å£å¤§å°å˜åŒ–æ—¶è°ƒæ•´å›¾è¡¨
            window.addEventListener('resize', function() {
                Object.values(charts).forEach(chart => {
                    if (chart) chart.resize();
                });
            });
        });
    </script>
</body>
</html>